"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["app_actions_alertActions_tsx-app_components_acl_access_tsx-app_components_menuItem_tsx-app_co-b4f87c"],{"./app/actionCreators/savedSearches.tsx":(e,t,s)=>{s.d(t,{bG:()=>c,C2:()=>d,VH:()=>p,cB:()=>h,YO:()=>m,k0:()=>f,g_:()=>v,k9:()=>y});var n=s("./app/actionCreators/indicator.tsx"),r=s("./app/actions/savedSearchesActions.tsx"),a=s("./app/constants/index.tsx"),o=s("./app/locale.tsx"),i=s("./app/types/index.tsx"),l=s("./app/utils/handleXhrErrorResponse.tsx");function c(){r.Z.resetSavedSearches()}function d(e,t){const s="/organizations/".concat(t,"/searches/");r.Z.startFetchSavedSearches();const a=e.requestPromise(s,{method:"GET"});return a.then((e=>{r.Z.fetchSavedSearchesSuccess(e)})).catch((e=>{r.Z.fetchSavedSearchesError(e),(0,n.Iw)((0,o.t)("Unable to load saved searches"))})),a}const u=e=>"/organizations/".concat(e,"/recent-searches/");function p(e,t,s,n){const r=u(t),a=e.requestPromise(r,{method:"POST",data:{query:n,type:s}});return a.catch((0,l.Z)("Unable to save a recent search")),a}function h(e,t,s,n,a){const o=e.requestPromise("/organizations/".concat(t,"/searches/"),{method:"POST",data:{type:i.L4.ISSUE,query:n,name:s,sort:a}});return o.then((e=>{r.Z.createSavedSearchSuccess(e)})),o}function m(e,t,s,n){const r=u(t),o=e.requestPromise(r,{query:{query:n,type:s,limit:a.x}});return o.catch((e=>{401!==e.status&&403!==e.status&&(0,l.Z)("Unable to fetch recent searches")(e)})),o}const g=e=>"/organizations/".concat(e,"/pinned-searches/");function f(e,t,s,n,a){const o=g(t);r.Z.pinSearch(s,n,a);const i=e.requestPromise(o,{method:"PUT",data:{query:n,type:s,sort:a}});return i.then(r.Z.pinSearchSuccess),i.catch((0,l.Z)("Unable to pin search")),i.catch((()=>{r.Z.unpinSearch(s)})),i}function v(e,t,s,n){const a=g(t);r.Z.unpinSearch(s);const o=e.requestPromise(a,{method:"DELETE",data:{type:s}});return o.catch((0,l.Z)("Unable to un-pin search")),o.catch((()=>{const{type:e,query:t}=n;r.Z.pinSearch(e,t)})),o}function y(e,t,s){const n="/organizations/".concat(t,"/searches/").concat(s.id,"/");return e.requestPromise(n,{method:"DELETE"}).then((()=>r.Z.deleteSavedSearchSuccess(s))).catch((0,l.Z)("Unable to delete a saved search"))}},"./app/actions/alertActions.tsx":(e,t,s)=>{s.d(t,{Z:()=>a});var n=s("../node_modules/reflux/src/index.js");const r=s.n(n)().createActions(["addAlert","closeAlert"]),a="app"==s.j?r:null},"./app/actions/organizationsActions.tsx":(e,t,s)=>{s.d(t,{Z:()=>r});var n=s("../node_modules/reflux/src/index.js");const r=s.n(n)().createActions(["update","setActive","changeSlug","remove","removeSuccess","removeError"])},"./app/actions/tagActions.tsx":(e,t,s)=>{s.d(t,{Z:()=>r});var n=s("../node_modules/reflux/src/index.js");const r=s.n(n)().createActions(["loadTagsError","loadTagsSuccess"])},"./app/components/acl/access.tsx":(e,t,s)=>{s.d(t,{Z:()=>m});var n=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),r=s("../node_modules/react/index.js"),a=s("./app/components/alert.tsx"),o=s("./app/icons/index.tsx"),i=s("./app/locale.tsx"),l=s("./app/utils/isRenderFunc.tsx"),c=s("./app/utils/withConfig.tsx"),d=s("./app/utils/withOrganization.tsx"),u=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const p=(0,u.tZ)(a.Z,{type:"error",icon:(0,u.tZ)(o.aU,{size:"md"}),children:(0,i.t)("You do not have sufficient permissions to access this.")});class h extends r.Component{render(){const{organization:e,config:t,access:s,requireAll:n,isSuperuser:r,renderNoAccessMessage:a,children:o}=this.props,{access:i}=e||{access:[]},c=!s||s[n?"every":"some"]((e=>i.includes(e))),d=!(!t.user||!t.user.isSuperuser),u={hasAccess:c,hasSuperuser:d},h=c&&(!r||d);return h||"function"!=typeof a?!h&&a?p:(0,l.l)(o)?o(u):h?o:null:a(u)}}h.displayName="Access",(0,n.Z)(h,"defaultProps",{renderNoAccessMessage:!1,isSuperuser:!1,requireAll:!0,access:[]});const m=(0,d.Z)((0,c.Z)(h))},"./app/components/dashboards/widgetQueryFields.tsx":(e,t,s)=>{s.d(t,{Z:()=>v});var n=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),r=(s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/react/index.js"),s("./app/components/button.tsx")),a=s("./app/icons/index.tsx"),o=s("./app/locale.tsx"),i=s("./app/styles/space.tsx"),l=s("./app/utils/discover/fields.tsx"),c=s("./app/views/eventsV2/table/columnEditCollection.tsx"),d=s("./app/views/eventsV2/table/queryField.tsx"),u=s("./app/views/eventsV2/table/types.tsx"),p=s("./app/views/settings/components/forms/field/index.tsx"),h=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function m({displayType:e,errors:t,fields:s,fieldOptions:n,organization:c,onChange:m,style:v}){if("table"===e)return(0,h.tZ)(p.Z,{"data-test-id":"columns",label:(0,o.t)("Columns"),inline:!1,style:{padding:"".concat((0,i.Z)(1)," 0"),...null!=v?v:{}},error:null==t?void 0:t.fields,flexibleControlStateSize:!0,stacked:!0,required:!0,children:(0,h.tZ)(g,{columns:s.map((e=>(0,l.HM)({field:e}))),onChange:function(e){const t=e.map(l.sN);m(t)},fieldOptions:n,organization:c})});const y=["world_map","big_number"].includes(e)&&1===s.length||["line","area","stacked_area","bar"].includes(e)&&3===s.length,b="big_number"===e;return(0,h.BX)(p.Z,{"data-test-id":"y-axis",label:(0,o.t)("Y-Axis"),inline:!1,style:{padding:"".concat((0,i.Z)(2)," 0 24px 0"),...null!=v?v:{}},flexibleControlStateSize:!0,error:null==t?void 0:t.fields,required:!0,stacked:!0,children:[s.map(((e,t)=>{const i=(0,l.HM)({field:e});return(0,h.BX)(f,{children:[(0,h.tZ)(d.q,{fieldValue:i,fieldOptions:n,onChange:e=>function(e,t){const n=[...s];n[t]=(0,l.sN)(e),m(n)}(e,t),filterPrimaryOptions:e=>{if(!b&&e.value.kind===u.L.FUNCTION){const t=(0,l._4)(e.value.meta.name,void 0);if(t)return(0,l.HW)(t)}return e.value.kind===u.L.FUNCTION},filterAggregateParameters:e=>{if(b)return!0;if("function"!==i.kind)return!0;const t=i.function[0],s=(0,l._4)(t,e.value.meta.name);return s?(0,l.HW)(s):e.value.kind!==u.L.FUNCTION&&(0,l.HW)(e.value.meta.dataType)}}),s.length>1&&(0,h.tZ)(r.ZP,{size:"zero",borderless:!0,onClick:e=>function(e,t){e.preventDefault();const n=[...s];n.splice(t,1),m(n)}(e,t),icon:(0,h.tZ)(a.Fz,{}),title:(0,o.t)("Remove this Y-Axis"),label:(0,o.t)("Remove this Y-Axis")})]},"".concat(e,":").concat(t))})),!y&&(0,h.tZ)("div",{children:(0,h.tZ)(r.ZP,{size:"small",icon:(0,h.tZ)(a.N_,{isCircled:!0}),onClick:function(e){e.preventDefault();const t=[...s,""];m(t)},children:(0,o.t)("Add Overlay")})})]})}m.displayName="WidgetQueryFields";const g=(0,n.Z)(c.Z,{target:"e2l1oc31"})("margin-top:",(0,i.Z)(1),";"),f=(0,n.Z)("div",{target:"e2l1oc30"})("display:flex;align-items:center;justify-content:space-between;margin-bottom:",(0,i.Z)(1),";>*+*{margin-left:",(0,i.Z)(1),";}"),v=m},"./app/components/menuItem.tsx":(e,t,s)=>{s.d(t,{Z:()=>b});var n=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),r=(s("../node_modules/react/index.js"),s("../node_modules/lodash/omit.js")),a=s.n(r),o=s("./app/components/links/link.tsx"),i=s("./app/styles/space.tsx"),l=s("./app/utils/callIfFunction.tsx"),c=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const d=({header:e,icon:t,divider:s,isActive:n,noAnchor:r,className:o,children:i,...d})=>{const{to:u,href:p,title:h,withBorder:b,disabled:x,onSelect:S,eventKey:Z,allowDefaultEvent:C,stopPropagation:j}=d,w=e=>{x||S&&(!0!==C&&e.preventDefault(),j&&e.stopPropagation(),(0,l.g)(S,Z))};let _=null;return r||e?_=i:s||(_=(()=>{const e={onClick:w,tabIndex:-1,isActive:n,disabled:x,withBorder:b};return u?(0,c.BX)(y,{to:u,...e,title:h,children:[t&&(0,c.tZ)(v,{children:t}),i]}):p?(0,c.BX)(m,{...e,href:p,children:[t&&(0,c.tZ)(v,{children:t}),i]}):(0,c.BX)(f,{role:"button",...e,title:h,children:[t&&(0,c.tZ)(v,{children:t}),i]})})()),(0,c.tZ)(g,{className:o,role:"presentation",isActive:n,divider:s,noAnchor:r,header:e,...a()(d,["href","title","onSelect","eventKey","to","as"]),children:_})};function u(e){const t="\n    display: block;\n    padding: ".concat((0,i.Z)(.5)," ").concat((0,i.Z)(2),";\n    &:focus {\n      outline: none;\n    }\n  ");return e.disabled?"\n      ".concat(t,"\n      color: ").concat(e.theme.disabled,";\n      background: transparent;\n      cursor: not-allowed;\n    "):e.isActive?"\n      ".concat(t,"\n      color: ").concat(e.theme.white,";\n      background: ").concat(e.theme.active,";\n\n      &:hover {\n        color: ").concat(e.theme.black,";\n      }\n    "):"\n    ".concat(t,"\n\n    &:hover {\n      background: ").concat(e.theme.focus,";\n    }\n  ")}function p(e){return e.noAnchor?"\n    & a {\n      ".concat(u(e),"\n    }\n  "):""}d.displayName="MenuItem";const h=e=>"string"==typeof e&&!1===["isActive","disabled","withBorder"].includes(e),m=(0,n.Z)("a",{shouldForwardProp:h,target:"e1g67xf44"})(u,";"),g=(0,n.Z)("li",{target:"e1g67xf43"})("display:block;",(e=>e.withBorder&&"\n    border-bottom: 1px solid ".concat(e.theme.innerBorder,";\n\n    &:last-child {\n      border-bottom: none;\n    }\n  ")),";",(e=>e.divider&&"\n    height: 1px;\n    margin: ".concat((0,i.Z)(.5)," 0;\n    overflow: hidden;\n    background-color: ").concat(e.theme.innerBorder,";\n  "))," ",(e=>e.header&&"\n    padding: ".concat((0,i.Z)(.25)," ").concat((0,i.Z)(.5),";\n    font-size: ").concat(e.theme.fontSizeSmall,";\n    line-height: 1.4;\n    color: ").concat(e.theme.gray300,";\n  "))," ",p,";"),f=(0,n.Z)("span",{target:"e1g67xf42"})(u," display:flex;align-items:center;"),v=(0,n.Z)("div",{target:"e1g67xf41"})("display:flex;align-items:center;margin-right:",(0,i.Z)(1),";"),y=(0,n.Z)(o.Z,{shouldForwardProp:h,target:"e1g67xf40"})(u,";"),b=d},"./app/components/modals/addDashboardWidgetModal.tsx":(e,t,s)=>{s.r(t),s.d(t,{default:()=>K,modalCss:()=>X});var n=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),r=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),a=(s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/react/index.js")),o=s("../node_modules/lodash/cloneDeep.js"),i=s.n(o),l=s("../node_modules/lodash/isEqual.js"),c=s.n(l),d=s("../node_modules/lodash/pick.js"),u=s.n(d),p=s("../node_modules/lodash/set.js"),h=s.n(p),m=s("./app/actionCreators/dashboards.tsx"),g=s("./app/actionCreators/indicator.tsx"),f=s("./app/components/button.tsx"),v=s("./app/components/buttonBar.tsx"),y=s("./app/components/events/searchBar.tsx"),b=s("./app/components/forms/selectControl.tsx"),x=s("./app/icons/index.tsx"),S=s("./app/locale.tsx"),Z=s("./app/styles/space.tsx"),C=s("./app/utils/discover/fields.tsx"),j=s("./app/views/settings/components/forms/controls/input.tsx"),w=s("./app/views/settings/components/forms/field/index.tsx"),_=s("./app/components/dashboards/widgetQueryFields.tsx"),q=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const T=e=>{const t=[];return e.forEach((e=>{const s=(0,C.LY)(e);t.push({label:(0,S.t)("%s asc",e),value:s}),t.push({label:(0,S.t)("%s desc",e),value:"-".concat(s)})})),t};class P extends a.Component{constructor(...e){super(...e),(0,n.Z)(this,"handleFieldChange",((e,t)=>{const{queries:s,onChange:n}=this.props,r=s[e];return function(s){const a={...r,[t]:s};n(e,a)}}))}getFirstQueryError(e){const{errors:t}=this.props;if(t)return t.find((t=>t&&t[e]))}render(){var e;const{organization:t,selection:s,errors:n,queries:r,canAddSearchConditions:a,handleAddSearchConditions:o,handleDeleteQuery:l,displayType:c,fieldOptions:d,onChange:u}=this.props,p=["table","world_map","big_number"].includes(c);return(0,q.BX)(A,{children:[r.map(((e,a)=>(0,q.tZ)(w.Z,{label:0===a?(0,S.t)("Query"):null,inline:!1,style:{paddingBottom:"8px"},flexibleControlStateSize:!0,stacked:!0,error:null==n?void 0:n[a].conditions,children:(0,q.BX)(F,{children:[(0,q.tZ)(E,{searchSource:"widget_builder",organization:t,projectIds:s.projects,query:e.conditions,fields:[],onSearch:this.handleFieldChange(a,"conditions"),onBlur:this.handleFieldChange(a,"conditions"),useFormWrapper:!1}),!p&&(0,q.tZ)(k,{type:"text",name:"name",required:!0,value:e.name,placeholder:(0,S.t)("Legend Alias"),onChange:e=>this.handleFieldChange(a,"name")(e.target.value)}),r.length>1&&(0,q.tZ)(f.ZP,{size:"zero",borderless:!0,onClick:e=>{e.preventDefault(),l(a)},icon:(0,q.tZ)(x.Fz,{}),title:(0,S.t)("Remove query"),label:(0,S.t)("Remove query")})]})},a))),a&&(0,q.tZ)(f.ZP,{size:"small",icon:(0,q.tZ)(x.N_,{isCircled:!0}),onClick:e=>{e.preventDefault(),o()},children:(0,S.t)("Add Query")}),(0,q.tZ)(_.Z,{displayType:c,fieldOptions:d,errors:this.getFirstQueryError("fields"),fields:r[0].fields,organization:t,onChange:e=>{r.forEach(((t,s)=>{const n=i()(t);n.fields=e,u(s,n)}))}}),"table"===c&&(0,q.tZ)(w.Z,{label:(0,S.t)("Sort by"),inline:!1,flexibleControlStateSize:!0,stacked:!0,error:null===(e=this.getFirstQueryError("orderby"))||void 0===e?void 0:e.orderby,style:{marginBottom:(0,Z.Z)(1)},children:(0,q.tZ)(b.Z,{value:r[0].orderby,name:"orderby",options:T(r[0].fields),onChange:e=>this.handleFieldChange(0,"orderby")(e.value),onSelectResetsInput:!1,onCloseResetsInput:!1,onBlurResetsInput:!1})})]})}}P.displayName="WidgetQueriesForm";const A=(0,r.Z)("div",{target:"e10b8jq53"})({name:"bjn8wh",styles:"position:relative"}),F=(0,r.Z)("div",{target:"e10b8jq52"})("display:flex;align-items:center;>*+*{margin-left:",(0,Z.Z)(1),";}"),E=(0,r.Z)(y.Z,{target:"e10b8jq51"})({name:"1ff36h2",styles:"flex-grow:1"}),k=(0,r.Z)(j.Z,{target:"e10b8jq50"})({name:"1f6lq61",styles:"width:33%"}),z=P;var R=s("./app/components/panels/index.tsx"),L=s("./app/utils/measurements/measurements.tsx"),O=s("./app/utils/withApi.tsx"),N=s("./app/utils/withGlobalSelection.tsx"),B=s("./app/utils/withTags.tsx"),D=s("./app/views/dashboardsV2/data.tsx"),I=s("./app/views/dashboardsV2/types.tsx"),M=s("./app/views/dashboardsV2/widgetCard.tsx"),Q=s("./app/views/eventsV2/utils.tsx");const W={name:"",fields:["count()"],conditions:"",orderby:""};function V(e,t){return Object.keys(e).forEach((s=>{const n=e[s];Array.isArray(n)&&"string"==typeof n[0]?t[s]=n[0]:Array.isArray(n)&&"object"==typeof n[0]?t[s]=n.map((e=>V(e,{}))):t[s]=V(n,{})})),t}function U(e,t){const s=["line","area","stacked_area","bar"].includes(e);if(["table","world_map","big_number"].includes(e)?t=t.slice(0,1):s&&(t=t.slice(0,3)),"table"===e)return t;if(t=t.map((t=>{let n=t.fields.filter(C.h1);return(s||"world_map"===e)&&(n=n.filter((e=>(0,C.HW)((0,C.Px)(e))))),s&&n.length&&n.length>3&&(n=n.slice(0,3)),{...t,fields:n.length?n:["count()"]}})),s){const e=[...t[0].fields];e:for(const s of t){if(e.length>=3)break;if(!c()(e,s.fields))for(const t of s.fields){if(e.length>=3)break e;e.includes(t)||e.push(t)}}t=t.map((t=>({...t,fields:e})))}return["world_map","big_number"].includes(e)&&(t=t.map((e=>({...e,fields:e.fields.slice(0,1)})))),t}class H extends a.Component{constructor(e){super(e),(0,n.Z)(this,"handleSubmit",(async e=>{e.preventDefault();const{api:t,closeModal:s,organization:n,onAddWidget:r,onUpdateWidget:a,widget:o}=this.props;this.setState({loading:!0});try{const e=u()(this.state,["title","displayType","interval","queries"]);await(0,m.QL)(t,n.slug,e),"function"==typeof a&&o?(a({id:null==o?void 0:o.id,...e}),(0,g.S9)((0,S.t)("Updated widget."))):(r(e),(0,g.S9)((0,S.t)("Added widget."))),s()}catch(e){var i;const t=V(null!==(i=null==e?void 0:e.responseJSON)&&void 0!==i?i:{},{});this.setState({errors:t})}finally{this.setState({loading:!1})}})),(0,n.Z)(this,"handleFieldChange",(e=>t=>{this.setState((s=>{const n=i()(s);if(h()(n,e,t),"displayType"===e){const e=t;h()(n,"queries",U(e,s.queries))}return{...n,errors:void 0}}))})),(0,n.Z)(this,"handleQueryChange",((e,t)=>{this.setState((s=>{const n=i()(s);return h()(n,"queries.".concat(t),e),{...n,errors:void 0}}))})),(0,n.Z)(this,"handleQueryRemove",(e=>{this.setState((t=>{const s=i()(t);return s.queries.splice(e,1),{...s,errors:void 0}}))})),(0,n.Z)(this,"handleAddSearchConditions",(()=>{this.setState((e=>{const t=i()(e);return t.queries.push(i()(W)),t}))}));const{widget:t}=e;this.state=t?{title:t.title,displayType:t.displayType,interval:t.interval,queries:U(t.displayType,t.queries),errors:void 0,loading:!1}:{title:"",displayType:I.F.LINE,interval:"5m",queries:[{...W}],errors:void 0,loading:!1}}canAddSearchConditions(){const e=["line","area","stacked_area","bar"].includes(this.state.displayType),t=this.state.queries.length<3;return e&&t}render(){const{Footer:e,Body:t,Header:s,api:n,organization:r,selection:o,tags:i,onUpdateWidget:l,widget:c}=this.props,d=this.state,u=d.errors,p="function"==typeof l&&!!c;return(0,q.BX)(a.Fragment,{children:[(0,q.tZ)(s,{closeButton:!0,children:(0,q.tZ)("h4",{children:p?(0,S.t)("Edit Widget"):(0,S.t)("Add Widget")})}),(0,q.BX)(t,{children:[(0,q.BX)($,{children:[(0,q.tZ)(G,{"data-test-id":"widget-name",label:(0,S.t)("Widget Name"),inline:!1,flexibleControlStateSize:!0,stacked:!0,error:null==u?void 0:u.title,required:!0,children:(0,q.tZ)(j.Z,{type:"text",name:"title",maxLength:255,required:!0,value:d.title,onChange:e=>{this.handleFieldChange("title")(e.target.value)}})}),(0,q.tZ)(G,{"data-test-id":"chart-type",label:(0,S.t)("Visualization Display"),inline:!1,flexibleControlStateSize:!0,stacked:!0,error:null==u?void 0:u.displayType,required:!0,children:(0,q.tZ)(b.Z,{required:!0,options:D.L3.slice(),name:"displayType",label:(0,S.t)("Visualization Display"),value:d.displayType,onChange:e=>{this.handleFieldChange("displayType")(e.value)}})})]}),(0,q.tZ)(L.Z,{organization:r,children:({measurements:e})=>{const t=(s=Object.values(e).map((({key:e})=>e)),(0,Q.R0)({organization:r,tagKeys:Object.values(i).map((({key:e})=>e)),measurementKeys:s}));var s;return(0,q.tZ)(z,{organization:r,selection:o,fieldOptions:t,displayType:d.displayType,queries:d.queries,errors:null==u?void 0:u.queries,onChange:(e,t)=>this.handleQueryChange(t,e),canAddSearchConditions:this.canAddSearchConditions(),handleAddSearchConditions:this.handleAddSearchConditions,handleDeleteQuery:this.handleQueryRemove})}}),(0,q.tZ)(M.Z,{api:n,organization:r,selection:o,widget:this.state,isEditing:!1,onDelete:()=>{},onEdit:()=>{},renderErrorMessage:e=>"string"==typeof e&&(0,q.tZ)(R.aU,{type:"error",children:e}),isSorting:!1,currentWidgetDragging:!1})]}),(0,q.tZ)(e,{children:(0,q.BX)(v.ZP,{gap:1,children:[(0,q.tZ)(f.ZP,{external:!0,href:"https://docs.sentry.io/product/dashboards/custom-dashboards/#widget-builder",children:(0,S.t)("Read the docs")}),(0,q.tZ)(f.ZP,{"data-test-id":"add-widget",priority:"primary",type:"button",onClick:this.handleSubmit,disabled:d.loading,busy:d.loading,children:p?(0,S.t)("Update Widget"):(0,S.t)("Add Widget")})]})})]})}}H.displayName="AddDashboardWidgetModal";const $=(0,r.Z)("div",{target:"e19emimy1"})("display:inline-grid;grid-template-columns:repeat(2, 1fr);grid-column-gap:",(0,Z.Z)(1),";width:100%;"),X={name:"l07bt5",styles:"width:100%;max-width:700px;margin:70px auto"},G=(0,r.Z)(w.Z,{target:"e19emimy0"})({name:"bjn8wh",styles:"position:relative"}),K=(0,O.Z)((0,N.Z)((0,B.Z)(H)))},"./app/components/organizations/globalSelectionHeader/utils.tsx":(e,t,s)=>{s.d(t,{fI:()=>f,GN:()=>v,Zs:()=>y,WO:()=>b});var n=s("../node_modules/lodash/identity.js"),r=s.n(n),a=s("../node_modules/lodash/isEqual.js"),o=s.n(a),i=s("../node_modules/lodash/pick.js"),l=s.n(i),c=s("../node_modules/lodash/pickBy.js"),d=s.n(c),u=s("./app/constants/globalSelectionHeader.tsx"),p=s("./app/utils.tsx"),h=s("./app/utils/dates.tsx"),m=s("./app/components/organizations/globalSelectionHeader/getParams.tsx");const g=(0,m.Q)({});function f(e,{allowEmptyPeriod:t=!1,allowAbsoluteDatetime:s=!0}={}){const n=(0,m.Q)(e,{allowEmptyPeriod:t,allowAbsoluteDatetime:s}),r=e[u.nF.PROJECT],a=e[u.nF.ENVIRONMENT],o=n.statsPeriod,i=n.utc,l=s&&!!n.start&&!!n.end;let c;if((0,p.ri)(r)&&Array.isArray(r))c=r.map((e=>parseInt(e,10)));else if((0,p.ri)(r)){const e=parseInt(r,10);c=isNaN(e)?[]:[e]}else c=r;return{project:c,environment:(0,p.ri)(a)&&!Array.isArray(a)?[a]:a,period:o||null,start:(l?(0,h.hC)(n.start):null)||null,end:(l?(0,h.hC)(n.end):null)||null,utc:void 0!==i?"true"===i:null}}function v(e){return d()(l()(e,Object.values(u.nF)),r())}function y(){const e=g.utc;return{projects:[],environments:[],datetime:{start:g.start||null,end:g.end||null,period:g.statsPeriod||"",utc:void 0!==e?"true"===e:null}}}function b(e,t){var s,n,r,a;return!(!o()(e.projects,t.projects)||!o()(e.environments,t.environments))&&e.datetime.period===t.datetime.period&&(null===(s=e.datetime.start)||void 0===s?void 0:s.toString())===(null===(n=t.datetime.start)||void 0===n?void 0:n.toString())&&(null===(r=e.datetime.end)||void 0===r?void 0:r.toString())===(null===(a=t.datetime.end)||void 0===a?void 0:a.toString())}},"./app/components/smartSearchBar/utils.tsx":(e,t,s)=>{s.d(t,{be:()=>l,WF:()=>c,oe:()=>p,iO:()=>h,th:()=>m,Um:()=>g}),s("../node_modules/core-js/modules/web.dom-collections.iterator.js");var n=s("./app/components/searchSyntax/parser.tsx"),r=s("./app/icons/index.tsx"),a=s("./app/locale.tsx"),o=s("./app/components/smartSearchBar/types.tsx"),i=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function l(e=""){return 0!==e.length&&" "!==e[e.length-1]?e+" ":e}function c(e=""){return" "===e[e.length-1]?e.slice(0,e.length-1):e}function d(e){return e===o.q.TAG_VALUE?(0,a.t)("Tag Values"):e===o.q.RECENT_SEARCH?(0,a.t)("Recent Searches"):e===o.q.DEFAULT?(0,a.t)("Common Search Terms"):e===o.q.TAG_OPERATOR?(0,a.t)("Operator Helpers"):(0,a.t)("Tags")}function u(e,t){if(e===o.q.RECENT_SEARCH)return(0,i.tZ)(r.jo,{size:"xs"});if(e===o.q.DEFAULT)return(0,i.tZ)(r.GK,{size:"xs"});switch(t){case"is":return(0,i.tZ)(r.oe,{size:"xs"});case"assigned":case"bookmarks":return(0,i.tZ)(r.qO,{size:"xs"});case"firstSeen":case"lastSeen":case"event.timestamp":return(0,i.tZ)(r.jo,{size:"xs"});default:return(0,i.tZ)(r.Ah,{size:"xs"})}}function p(e,t,s,n,l,c){l&&l>0&&(e=e.filter(((e,t)=>t<l||e.ignoreMaxSearchItems))),(c||0===c)&&(e=e.filter((e=>e.value.length<=c)),t&&(t=t.filter((e=>e.value.length<=c))));const p={title:d(n),type:n===o.q.INVALID_TAG?n:"header",icon:u(n,s),children:[...e]},h=t&&{title:(0,a.t)("Recent Searches"),type:"header",icon:(0,i.tZ)(r.jo,{size:"xs"}),children:[...t]};return p.children&&p.children.length&&(p.children[0]={...p.children[0]}),{searchGroups:[p,...h?[h]:[]],flatSearchItems:[...e,...t||[]],activeSearchItem:-1}}function h(e,t){let s=t,n=[void 0,void 0];return e.find((({children:e},t)=>!(!e||!e.length||(s<e.length?(n=[t,s],0):(s-=e.length,1))))),n}function m(e){return{[n.oV.Default]:{type:o.q.TAG_OPERATOR,value:":",desc:"".concat(e,":").concat((0,a.t)("[value] is equal to"))},[n.oV.GreaterThanEqual]:{type:o.q.TAG_OPERATOR,value:":>=",desc:"".concat(e,":").concat((0,a.t)(">=[value] is greater than or equal to"))},[n.oV.LessThanEqual]:{type:o.q.TAG_OPERATOR,value:":<=",desc:"".concat(e,":").concat((0,a.t)("<=[value] is less than or equal to"))},[n.oV.GreaterThan]:{type:o.q.TAG_OPERATOR,value:":>",desc:"".concat(e,":").concat((0,a.t)(">[value] is greater than"))},[n.oV.LessThan]:{type:o.q.TAG_OPERATOR,value:":<",desc:"".concat(e,":").concat((0,a.t)("<[value] is less than"))},[n.oV.Equal]:{type:o.q.TAG_OPERATOR,value:":=",desc:"".concat(e,":").concat((0,a.t)("=[value] is equal to"))},[n.oV.NotEqual]:{type:o.q.TAG_OPERATOR,value:"!:",desc:"!".concat(e,":").concat((0,a.t)("[value] is not equal to"))}}}function g(e){var t,s;const r=null!==(t=null===(s=e.invalid)||void 0===s?void 0:s.expectedType)&&void 0!==t?t:[e.filter],a=r.map((e=>{var t;return null!==(t=n.J$[e])&&void 0!==t?t:[]})),o=[...new Set([...r,...a.flat()])];return[...new Set(o.map((e=>n.iq[e].validOps)).flat())]}},"./app/stores/organizationsStore.tsx":(e,t,s)=>{s.d(t,{Z:()=>o}),s("../node_modules/core-js/modules/web.dom-collections.iterator.js");var n=s("../node_modules/reflux/src/index.js"),r=s.n(n);const a={listenables:[s("./app/actions/organizationsActions.tsx").Z],state:[],loaded:!1,getInitialState(){return this.state},init(){this.state=[],this.loaded=!1},onUpdate(e){this.add(e)},onChangeSlug(e,t){e.slug!==t.slug&&(this.remove(e.slug),this.add(t))},onRemoveSuccess(e){this.remove(e)},get(e){return this.state.find((t=>t.slug===e))},getAll(){return this.state},remove(e){this.state=this.state.filter((t=>e!==t.slug)),this.trigger(this.state)},add(e){let t=!1;this.state.forEach(((s,n)=>{s.id===e.id&&(e={...s,...e},this.state[n]=e,t=!0)})),t||(this.state=[...this.state,e]),this.trigger(this.state)},load(e){this.state=e,this.loaded=!0,this.trigger(e)}},o=r().createStore(a)},"./app/stores/tagStore.tsx":(e,t,s)=>{s.d(t,{Z:()=>l}),s("../node_modules/core-js/modules/es.array.reduce.js");var n=s("../node_modules/reflux/src/index.js"),r=s.n(n),a=s("./app/actions/tagActions.tsx");const o=["event.type","platform","message","title","location","timestamp","release","user.id","user.username","user.email","user.ip","sdk.name","sdk.version","http.method","http.url","os.build","os.kernel_version","device.brand","device.locale","device.uuid","device.model_id","device.arch","device.orientation","geo.country_code","geo.region","geo.city","error.type","error.handled","error.unhandled","error.value","error.mechanism","stack.abs_path","stack.filename","stack.package","stack.module","stack.function","stack.stack_level"].reduce(((e,t)=>(e[t]={key:t,name:t},e)),{}),i={state:{},init(){this.state={},this.listenTo(a.Z.loadTagsSuccess,this.onLoadTagsSuccess)},getBuiltInTags:()=>({...o}),getIssueAttributes(){const e=["resolved","unresolved","ignored","assigned","for_review","unassigned","linked","unlinked"];return{is:{key:"is",name:"Status",values:e,maxSuggestedValues:e.length,predefined:!0},has:{key:"has",name:"Has Tag",values:Object.keys(this.state),predefined:!0},assigned:{key:"assigned",name:"Assigned To",values:[],predefined:!0},bookmarks:{key:"bookmarks",name:"Bookmarked By",values:[],predefined:!0},lastSeen:{key:"lastSeen",name:"Last Seen",values:["-1h","+1d","-1w"],predefined:!0},firstSeen:{key:"firstSeen",name:"First Seen",values:["-1h","+1d","-1w"],predefined:!0},firstRelease:{key:"firstRelease",name:"First Release",values:["latest"],predefined:!0},"event.timestamp":{key:"event.timestamp",name:"Event Timestamp",values:["2017-01-02",">=2017-01-02T01:00:00","<2017-01-02T02:00:00"],predefined:!0},timesSeen:{key:"timesSeen",name:"Times Seen",isInput:!0,values:[],predefined:!0},assigned_or_suggested:{key:"assigned_or_suggested",name:"Assigned or Suggested",isInput:!0,values:[],predefined:!0}}},reset(){this.state={},this.trigger(this.state)},getAllTags(){return this.state},onLoadTagsSuccess(e){const t=e.reduce(((e,t)=>(e[t.key]={values:[],...t},e)),{});this.state={...this.state,...t},this.trigger(this.state)}},l=r().createStore(i)},"./app/utils/events.tsx":(e,t,s)=>{s.d(t,{FC:()=>o,k$:()=>i,K2:()=>l,YQ:()=>d,XQ:()=>u}),s("../node_modules/core-js/modules/web.dom-collections.iterator.js");var n=s("./app/types/index.tsx");if("app"==s.j)var r=s("./app/utils/platform.tsx");function a(e){return!e.hasOwnProperty("type")}function o(e){if(a(e))return e.culprit||"";const{metadata:t,type:s,culprit:r}=e;switch(s){case n.eP.ERROR:return t.value;case n.eP.CSP:return t.message;case n.eP.EXPECTCT:case n.eP.EXPECTSTAPLE:case n.eP.HPKP:return"";default:return r||""}}function i(e){if(!a(e))return e.type===n.eP.ERROR&&(0,r.g)(e.platform)&&e.metadata.filename||void 0}function l(e){return"string"==typeof e?{label:e,highlight:!1}:{label:(null==e?void 0:e.function)||(null==e?void 0:e.package)||(null==e?void 0:e.type)||"<unknown>",highlight:!!e.is_sentinel}}function c(e,t=[]){const{type:s,current_tree_label:n,finest_tree_label:r}=e,a=t.includes("grouping-title-ui")?n||r:void 0,o=a?a.map((e=>l(e).label)).join(" | "):void 0;return s?o?{title:"".concat(s," | ").concat(o),treeLabel:[{type:s},...null!=a?a:[]]}:{title:s,treeLabel:void 0}:{title:o||e.function||"<unknown>",treeLabel:a}}function d(e,t=[]){var s,r,a,o;const{metadata:i,type:l,culprit:d}=e,u=t.includes("custom-event-title")&&null!=i&&i.title?i.title:void 0;switch(l){case n.eP.ERROR:return u?{title:u,subtitle:d,treeLabel:void 0}:{subtitle:d,...c(i,t)};case n.eP.CSP:return{title:null!==(s=null!=u?u:i.directive)&&void 0!==s?s:"",subtitle:null!==(r=i.uri)&&void 0!==r?r:"",treeLabel:void 0};case n.eP.EXPECTCT:case n.eP.EXPECTSTAPLE:case n.eP.HPKP:return{title:null!=u?u:i.message||e.title,subtitle:null!==(a=i.origin)&&void 0!==a?a:"",treeLabel:void 0};case n.eP.DEFAULT:return{title:null!==(o=null!=u?u:i.title)&&void 0!==o?o:"",subtitle:"",treeLabel:void 0};default:return{title:null!=u?u:e.title,subtitle:"",treeLabel:void 0}}}function u(e){return e.substring(0,8)}},"./app/utils/parseLinkHeader.tsx":(e,t,s)=>{function n(e){if(null===e||""===e)return{};const t=e.split(","),s={};return t.forEach((e=>{const t=/<([^>]+)>; rel="([^"]+)"(?:; results="([^"]+)")?(?:; cursor="([^"]+)")?/g.exec(e),n="true"===t[3]||"false"!==t[3]&&null;s[t[2]]={href:t[1],results:n,cursor:t[4]}})),s}s.d(t,{Z:()=>n})},"./app/utils/performance/constants.tsx":(e,t,s)=>{s.d(t,{X:()=>r,s:()=>a}),s("../node_modules/core-js/modules/web.dom-collections.iterator.js");var n=s("./app/constants/globalSelectionHeader.tsx");const r=100,a=["team",...Object.values(n.nF)]},"./app/utils/performance/vitals/constants.tsx":(e,t,s)=>{s.d(t,{r:()=>a,T:()=>o});var n=s("./app/locale.tsx"),r=s("./app/utils/discover/fields.tsx");const a={[r.Zl.FP]:{slug:"fp",name:(0,n.t)("First Paint"),acronym:"FP",description:(0,n.t)("Render time of the first pixel loaded in the viewport (may overlap with FCP)."),poorThreshold:3e3,type:(0,r.Cq)(r.Zl.FP)},[r.Zl.FCP]:{slug:"fcp",name:(0,n.t)("First Contentful Paint"),acronym:"FCP",description:(0,n.t)("Render time of the first image, text or other DOM node in the viewport."),poorThreshold:3e3,type:(0,r.Cq)(r.Zl.FCP)},[r.Zl.LCP]:{slug:"lcp",name:(0,n.t)("Largest Contentful Paint"),acronym:"LCP",description:(0,n.t)("Render time of the largest image, text or other DOM node in the viewport."),poorThreshold:4e3,type:(0,r.Cq)(r.Zl.LCP)},[r.Zl.FID]:{slug:"fid",name:(0,n.t)("First Input Delay"),acronym:"FID",description:(0,n.t)("Response time of the browser to a user interaction (clicking, tapping, etc)."),poorThreshold:300,type:(0,r.Cq)(r.Zl.FID)},[r.Zl.CLS]:{slug:"cls",name:(0,n.t)("Cumulative Layout Shift"),acronym:"CLS",description:(0,n.t)("Sum of layout shift scores that measure the visual stability of the page."),poorThreshold:.25,type:(0,r.Cq)(r.Zl.CLS)},[r.Zl.TTFB]:{slug:"ttfb",name:(0,n.t)("Time to First Byte"),acronym:"TTFB",description:(0,n.t)("The time that it takes for a user's browser to receive the first byte of page content."),poorThreshold:600,type:(0,r.Cq)(r.Zl.TTFB)},[r.Zl.RequestTime]:{slug:"ttfb.requesttime",name:(0,n.t)("Request Time"),acronym:"RT",description:(0,n.t)("Captures the time spent making the request and receiving the first byte of the response."),poorThreshold:600,type:(0,r.Cq)(r.Zl.RequestTime)}},o={[r.$n.AppStartCold]:{slug:"app_start_cold",name:(0,n.t)("App Start Cold"),description:(0,n.t)("Cold start is a measure of the application start up time from scratch."),type:(0,r.Cq)(r.$n.AppStartCold)},[r.$n.AppStartWarm]:{slug:"app_start_warm",name:(0,n.t)("App Start Warm"),description:(0,n.t)("Warm start is a measure of the application start up time while still in memory."),type:(0,r.Cq)(r.$n.AppStartWarm)},[r.$n.FramesTotal]:{slug:"frames_total",name:(0,n.t)("Total Frames"),description:(0,n.t)("Total frames is a count of the number of frames recorded within a transaction."),type:(0,r.Cq)(r.$n.FramesTotal)},[r.$n.FramesSlow]:{slug:"frames_slow",name:(0,n.t)("Slow Frames"),description:(0,n.t)("Slow frames is a count of the number of slow frames recorded within a transaction."),type:(0,r.Cq)(r.$n.FramesSlow)},[r.$n.FramesFrozen]:{slug:"frames_frozen",name:(0,n.t)("Frozen Frames"),description:(0,n.t)("Frozen frames is a count of the number of frozen frames recorded within a transaction."),type:(0,r.Cq)(r.$n.FramesFrozen)},[r.$n.FramesSlowRate]:{slug:"frames_slow_rate",name:(0,n.t)("Slow Frames Rate"),description:(0,n.t)("Slow Frames Rate is the percentage of frames recorded within a transaction that is considered slow."),type:(0,r.Cq)(r.$n.FramesSlowRate)},[r.$n.FramesFrozenRate]:{slug:"frames_frozen_rate",name:(0,n.t)("Frozen Frames Rate"),description:(0,n.t)("Frozen Frames Rate is the percentage of frames recorded within a transaction that is considered frozen."),type:(0,r.Cq)(r.$n.FramesFrozenRate)},[r.$n.StallCount]:{slug:"stall_count",name:(0,n.t)("Stalls"),description:(0,n.t)("Stalls is the number of times the application stalled within a transaction."),type:(0,r.Cq)(r.$n.StallCount)},[r.$n.StallTotalTime]:{slug:"stall_total_time",name:(0,n.t)("Total Stall Time"),description:(0,n.t)("Stall Total Time is the total amount of time the application is stalled within a transaction."),type:(0,r.Cq)(r.$n.StallTotalTime)},[r.$n.StallLongestTime]:{slug:"stall_longest_time",name:(0,n.t)("Longest Stall Time"),description:(0,n.t)("Stall Longest Time is the longest amount of time the application is stalled within a transaction."),type:(0,r.Cq)(r.$n.StallLongestTime)},[r.$n.StallPercentage]:{slug:"stall_percentage",name:(0,n.t)("Stall Percentage"),description:(0,n.t)("Stall Percentage is the percentage of the transaction duration the application was stalled."),type:(0,r.Cq)(r.$n.StallPercentage)}}},"./app/utils/projects.tsx":(e,t,s)=>{s.d(t,{Z:()=>y});var n=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),r=(s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/react/index.js")),a=s("../node_modules/lodash/memoize.js"),o=s.n(a),i=s("../node_modules/lodash/partition.js"),l=s.n(i),c=s("../node_modules/lodash/uniqBy.js"),d=s.n(c),u=s("./app/actions/projectActions.tsx"),p=s("./app/stores/projectsStore.tsx"),h=s("./app/utils.tsx"),m=s("./app/utils/parseLinkHeader.tsx"),g=s("./app/utils/withApi.tsx"),f=s("./app/utils/withProjects.tsx");class v extends r.Component{constructor(...e){super(...e),(0,n.Z)(this,"state",{fetchedProjects:[],projectsFromStore:[],initiallyLoaded:!1,fetching:!1,isIncomplete:null,hasMore:null,prevSearch:null,nextCursor:null,fetchError:null}),(0,n.Z)(this,"fetchQueue",new Set),(0,n.Z)(this,"getProjectsMap",o()((e=>new Map(e.map((e=>[e.slug,e])))))),(0,n.Z)(this,"loadSpecificProjects",(()=>{const{slugs:e,projects:t}=this.props,s=this.getProjectsMap(t),[n,r]=l()(e,(e=>s.has(e))),a=n.map((e=>s.get(e))).filter(h.ri);r.forEach((e=>this.fetchQueue.add(e))),this.setState({fetchedProjects:r.map((e=>({slug:e}))),initiallyLoaded:!!n.length,projectsFromStore:a}),r.length&&this.fetchSpecificProjects()})),(0,n.Z)(this,"fetchSpecificProjects",(async()=>{const{api:e,orgId:t,passthroughPlaceholderProject:s}=this.props;if(!this.fetchQueue.size)return;this.setState({fetching:!0});let n=[],r=null;try{const{results:s}=await b(e,t,{slugs:Array.from(this.fetchQueue)});n=s}catch(e){console.error(e),r=e}const a=this.getProjectsMap(n),o=Array.from(this.fetchQueue).map((e=>a.has(e)?a.get(e):s?{slug:e}:null)).filter(h.ri);this.setState({fetchedProjects:o,isIncomplete:this.fetchQueue.size!==n.length,initiallyLoaded:!0,fetching:!1,fetchError:r}),this.fetchQueue.clear()})),(0,n.Z)(this,"loadAllProjects",(async()=>{const{api:e,orgId:t,limit:s,allProjects:n}=this.props;this.setState({fetching:!0});try{const{results:r,hasMore:a,nextCursor:o}=await b(e,t,{limit:s,allProjects:n});this.setState({fetching:!1,fetchedProjects:r,initiallyLoaded:!0,hasMore:a,nextCursor:o})}catch(e){console.error(e),this.setState({fetching:!1,fetchedProjects:[],initiallyLoaded:!0,fetchError:e})}})),(0,n.Z)(this,"handleSearch",(async(e,{append:t}={})=>{const{api:s,orgId:n,limit:r}=this.props,{prevSearch:a}=this.state,o=this.state.nextCursor;this.setState({fetching:!0});try{const{results:i,hasMore:l,nextCursor:c}=await b(s,n,{search:e,limit:r,prevSearch:a,cursor:o});this.setState((s=>{let n;return n=t?d()([...s.fetchedProjects,...i],(({slug:e})=>e)):i,{fetchedProjects:n,hasMore:l,fetching:!1,prevSearch:e,nextCursor:c}}))}catch(e){console.error(e),this.setState({fetching:!1,fetchError:e})}}))}componentDidMount(){const{slugs:e}=this.props;e&&e.length?this.loadSpecificProjects():this.loadAllProjects()}render(){const{slugs:e,children:t}=this.props;return t({projects:this.state.initiallyLoaded?[...this.state.fetchedProjects,...this.state.projectsFromStore]:e&&e.map((e=>({slug:e})))||[],isIncomplete:this.state.isIncomplete,fetching:this.state.fetching,hasMore:this.state.hasMore,onSearch:this.handleSearch,initiallyLoaded:this.state.initiallyLoaded,fetchError:this.state.fetchError})}}v.displayName="Projects",(0,n.Z)(v,"defaultProps",{passthroughPlaceholderProject:!0});const y=(0,f.Z)((0,g.Z)(v));async function b(e,t,{slugs:s,search:n,limit:r,prevSearch:a,cursor:o,allProjects:i}={}){const l={collapse:["latestDeploys"]};if(s&&s.length&&(l.query=s.map((e=>"slug:".concat(e))).join(" ")),n&&(l.query="".concat(l.query?"".concat(l.query," "):"").concat(n)),(a||n)&&a!==n||!o||(l.cursor=o),r&&(l.per_page=r),i){const{loading:e,projects:t}=p.Z.getState();if(!e)return{results:t,hasMore:!1};l.all_projects=1}let c=!1,d=null;const[h,,g]=await e.requestPromise("/organizations/".concat(t,"/projects/"),{includeAllArgs:!0,query:l}),f=null==g?void 0:g.getResponseHeader("Link");if(f){const e=(0,m.Z)(f);c=e&&(e.next.results||e.previous.results),d=e.next.cursor}return i&&u.Z.loadProjects(h),{results:h,hasMore:c,nextCursor:d}}},"./app/utils/withProject.tsx":(e,t,s)=>{s.d(t,{Z:()=>l});var n=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),r=s("../node_modules/react/index.js"),a=s("./app/sentryTypes.tsx"),o=s("./app/utils/getDisplayName.tsx"),i=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const l=e=>{var t,s;return s=t=class extends r.Component{render(){const{project:t,...s}=this.props;return(0,i.tZ)(e,{project:null!=t?t:this.context.project,...s})}},(0,n.Z)(t,"displayName","withProject(".concat((0,o.Z)(e),")")),(0,n.Z)(t,"contextTypes",{project:a.Z.Project}),s}},"./app/views/dashboardsV2/data.tsx":(e,t,s)=>{s.d(t,{R7:()=>r,L3:()=>a,GY:()=>o});var n=s("./app/locale.tsx");const r={id:"",dateCreated:"",createdBy:void 0,title:(0,n.t)("Untitled dashboard"),widgets:[]},a=[{label:(0,n.t)("Area Chart"),value:"area"},{label:(0,n.t)("Bar Chart"),value:"bar"},{label:(0,n.t)("Line Chart"),value:"line"},{label:(0,n.t)("Table"),value:"table"},{label:(0,n.t)("World Map"),value:"world_map"},{label:(0,n.t)("Big Number"),value:"big_number"}],o=((0,n.t)("1 Minute"),(0,n.t)("5 Minutes"),(0,n.t)("15 Minutes"),(0,n.t)("30 Minutes"),(0,n.t)("1 Hour"),(0,n.t)("1 Day"),"24h")},"./app/views/eventsV2/data.tsx":(e,t,s)=>{s.d(t,{eP:()=>r,Qu:()=>a,He:()=>o,gh:()=>i});var n=s("./app/locale.tsx");const r={id:void 0,name:(0,n.t)("All Events"),query:"",projects:[],fields:["title","event.type","project","user.display","timestamp"],orderby:"-timestamp",version:2,range:"24h"},a=[{id:void 0,name:(0,n.t)("Transactions by Volume"),fields:["transaction","project","count()","avg(transaction.duration)","p75()","p95()"],orderby:"-count",query:"event.type:transaction",projects:[],version:2,range:"24h"}],o=[{id:void 0,name:(0,n.t)("Web Vitals"),fields:["transaction","epm()","p75(measurements.fp)","p75(measurements.fcp)","p75(measurements.lcp)","p75(measurements.fid)","p75(measurements.cls)"],orderby:"-epm",query:"event.type:transaction transaction.op:pageload",projects:[],version:2,range:"24h"}],i=[r,{id:void 0,name:(0,n.t)("Errors by Title"),fields:["title","count()","count_unique(user)","project"],orderby:"-count",query:"event.type:error",projects:[],version:2,range:"24h",display:"top5"},{id:void 0,name:(0,n.t)("Errors by URL"),fields:["url","count()","count_unique(issue)"],orderby:"-count",query:"event.type:error has:url",projects:[],version:2,range:"24h",display:"top5"}]},"./app/views/issueList/createSavedSearchModal.tsx":(e,t,s)=>{s.d(t,{Z:()=>f});var n=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),r=(s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/react/index.js")),a=s("./app/actionCreators/indicator.tsx"),o=s("./app/actionCreators/savedSearches.tsx"),i=s("./app/components/button.tsx"),l=s("./app/components/forms/index.tsx"),c=s("./app/locale.tsx"),d=s("./app/styles/space.tsx"),u=s("./app/utils/withApi.tsx"),p=s("./app/views/issueList/utils.tsx"),h=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const m=[p.qh.DATE,p.qh.NEW,p.qh.FREQ,p.qh.PRIORITY,p.qh.USER];class g extends r.Component{constructor(...e){super(...e),(0,n.Z)(this,"state",{isSaving:!1,name:"",error:null,query:null,sort:null}),(0,n.Z)(this,"onSubmit",(e=>{const{api:t,organization:s}=this.props,n=this.state.query||this.props.query,r=this.validateSortOption(this.state.sort||this.props.sort);e.preventDefault(),this.setState({isSaving:!0}),(0,a.E3)((0,c.t)("Saving Changes")),(0,o.cB)(t,s.slug,this.state.name,n,r).then((e=>{this.props.closeModal(),this.setState({error:null,isSaving:!1}),(0,a.B8)()})).catch((e=>{let t=(0,c.t)("Unable to save your changes.");e.responseJSON&&e.responseJSON.detail&&(t=e.responseJSON.detail),this.setState({error:t,isSaving:!1}),(0,a.B8)()}))})),(0,n.Z)(this,"handleChangeName",(e=>{this.setState({name:String(e)})})),(0,n.Z)(this,"handleChangeQuery",(e=>{this.setState({query:String(e)})})),(0,n.Z)(this,"handleChangeSort",(e=>{this.setState({sort:e})}))}validateSortOption(e){return this.sortOptions().find((t=>t===e))?e:p.qh.DATE}sortOptions(){var e;const{organization:t}=this.props,s=[...m];return null!=t&&null!==(e=t.features)&&void 0!==e&&e.includes("issue-list-trend-sort")&&s.push(p.qh.TREND),s}render(){const{isSaving:e,error:t}=this.state,{Header:s,Footer:n,Body:r,closeModal:a,query:o,sort:u}=this.props,m=this.sortOptions().map((e=>({value:e,label:(0,p._k)(e)})));return(0,h.BX)("form",{onSubmit:this.onSubmit,children:[(0,h.tZ)(s,{children:(0,h.tZ)("h4",{children:(0,c.t)("Save Current Search")})}),(0,h.BX)(r,{children:[this.state.error&&(0,h.tZ)("div",{className:"alert alert-error alert-block",children:t}),(0,h.tZ)("p",{children:(0,c.t)("All team members will now have access to this search.")}),(0,h.tZ)(l.nv,{name:"name",label:(0,c.t)("Name"),placeholder:"e.g. My Search Results",required:!0,onChange:this.handleChangeName},"name"),(0,h.tZ)(l.nv,{name:"query",label:(0,c.t)("Query"),value:o,required:!0,onChange:this.handleChangeQuery},"query"),(0,h.tZ)(l.mg,{name:"sort",label:(0,c.t)("Sort By"),required:!0,clearable:!1,defaultValue:this.validateSortOption(u),options:m,onChange:this.handleChangeSort},"sort")]}),(0,h.BX)(n,{children:[(0,h.tZ)(i.ZP,{priority:"default",size:"small",disabled:e,onClick:a,style:{marginRight:(0,d.Z)(1)},children:(0,c.t)("Cancel")}),(0,h.tZ)(i.ZP,{priority:"primary",size:"small",disabled:e,children:(0,c.t)("Save")})]})]})}}g.displayName="CreateSavedSearchModal";const f=(0,u.Z)(g)},"./app/views/performance/transactionSummary/latencyChart.tsx":(e,t,s)=>{s.d(t,{Oo:()=>C,mo:()=>j,sN:()=>_,Hj:()=>q,ZP:()=>T});var n=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),r=(s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/react/index.js")),a=s("./app/components/charts/barChart.tsx"),o=s("./app/components/charts/barChartZoom.tsx"),i=s("./app/components/charts/errorPanel.tsx"),l=s("./app/components/charts/loadingPanel.tsx"),c=s("./app/components/charts/optionSelector.tsx"),d=s("./app/components/charts/styles.tsx"),u=s("./app/components/questionTooltip.tsx"),p=s("./app/icons/index.tsx"),h=s("./app/locale.tsx"),m=s("./app/utils/analytics.tsx"),g=s("./app/utils/discover/eventView.tsx"),f=s("./app/utils/performance/histogram/index.tsx"),v=s("./app/utils/performance/histogram/histogramQuery.tsx"),y=s("./app/utils/performance/histogram/utils.tsx"),b=s("./app/utils/queryString.tsx"),x=s("./app/utils/theme.tsx"),S=s("./app/views/performance/transactionSummary/filter.tsx"),Z=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const C="startDuration",j="endDuration";class w extends r.Component{constructor(...e){super(...e),(0,n.Z)(this,"state",{zoomError:!1}),(0,n.Z)(this,"handleMouseOver",(()=>{this.state.zoomError&&this.setState({zoomError:!1})})),(0,n.Z)(this,"handleDataZoom",(()=>{const{organization:e}=this.props;(0,m.ec)({eventKey:"performance_views.latency_chart.zoom",eventName:"Performance Views: Transaction Summary Latency Chart Zoom",organization_id:parseInt(e.id,10)})})),(0,n.Z)(this,"handleDataZoomCancelled",(()=>{this.setState({zoomError:!0})}))}bucketWidth(e){return e.length>2?e[1].bin-e[0].bin:0}renderLoading(){return(0,Z.tZ)(l.Z,{"data-test-id":"histogram-loading"})}renderError(){return(0,Z.tZ)(i.Z,{children:(0,Z.tZ)(p.FC,{color:"gray300",size:"lg"})})}renderChart(e){const{location:t,currentFilter:s}=this.props,{zoomError:n}=this.state,r={type:"category",truncate:!0,axisTick:{interval:0,alignWithLabel:!0}},i=s===S.f1.None?[...x.ZP.charts.getColorPalette(1)]:[(0,S.bE)(s)],l={formatter(e){const t=Array.isArray(e)?e:[e];let s=[];if(n)s=['<div class="tooltip-series tooltip-series-solo">',(0,h.t)("Target zoom region too small"),"</div>"];else{s=t.map((e=>{const t=e.seriesName,s=e.value[1].toLocaleString();return['<div class="tooltip-series">','<div><span class="tooltip-label">'.concat(e.marker," <strong>").concat(t,"</strong></span> ").concat(s,"</div>"),"</div>"].join("")}));const e=t[0].value[0];s.push('<div class="tooltip-date">'.concat(e,"</div>"))}return s.push('<div class="tooltip-arrow"></div>'),s.join("")}},c={seriesName:(0,h.t)("Count"),data:(0,y.GT)(e,{type:"duration"})};return(0,Z.tZ)(o.Z,{minZoomWidth:50,location:t,paramStart:C,paramEnd:j,xAxisIndex:[0],buckets:(0,y._W)(e),onDataZoomCancelled:this.handleDataZoomCancelled,children:e=>(0,Z.tZ)(a.Z,{grid:{left:"10px",right:"10px",top:"40px",bottom:"0px"},xAxis:r,yAxis:{type:"value"},series:[c],tooltip:l,colors:i,onMouseOver:this.handleMouseOver,...e})})}render(){var e;const{organization:t,query:s,start:n,end:a,statsPeriod:o,environment:i,project:l,location:c,currentFilter:p}=this.props,m=g.ZP.fromNewQueryWithLocation({id:void 0,version:2,name:"",fields:["transaction.duration"],projects:l,range:o,query:s,environment:i,start:n,end:a},c),{min:y,max:b}=q(c),x=null!==(e=(0,S.T$)(p))&&void 0!==e?e:"transaction.duration",w=p===S.f1.None?(0,h.t)("Duration Distribution"):(0,h._N)("Span Operation Distribution - [operationName]",{operationName:p});return(0,Z.BX)(r.Fragment,{children:[(0,Z.BX)(d.ws,{children:[w,(0,Z.tZ)(u.Z,{position:"top",size:"sm",title:(0,h.t)("Duration Distribution reflects the volume of transactions per median duration.")})]}),(0,Z.tZ)(f.Z,{location:c,zoomKeys:[C,j],children:({activeFilter:e})=>(0,Z.tZ)(v.Z,{location:c,orgSlug:t.slug,eventView:m,numBuckets:50,fields:[x],min:y,max:b,dataFilter:e.value,children:({histograms:e,isLoading:t,error:s})=>{var n;if(t)return this.renderLoading();if(s)return this.renderError();const r=null!==(n=null==e?void 0:e[x])&&void 0!==n?n:[];return this.renderChart(r)}})})]})}}function _(e){const{location:t}=e;return(0,Z.tZ)(f.Z,{location:t,zoomKeys:[C,j],children:({filterOptions:e,handleFilterChange:t,activeFilter:s})=>(0,Z.tZ)(r.Fragment,{children:(0,Z.tZ)(c.Z,{title:(0,h.t)("Outliers"),selected:s.value,options:e,onChange:t})})})}function q(e){let t,s;if(C in e.query&&(t=(0,b._q)(e.query[C],0)),j in e.query){const t=(0,b._q)(e.query[j]);"number"==typeof t&&(s=t)}return{min:t,max:s}}w.displayName="LatencyChart",_.displayName="LatencyChartControls";const T="app"==s.j?w:null}}]);
//# sourceMappingURL=../sourcemaps/app_actions_alertActions_tsx-app_components_acl_access_tsx-app_components_menuItem_tsx-app_co-b4f87c.198d0b7e58a766bfa53f16f7e88fd9d9.js.map