(self.webpackChunk=self.webpackChunk||[]).push([["app_views_performance_transactionSummary_index_tsx-node_modules_downsample_methods_ASAP_js-no-90e990"],{"./app/components/globalSdkUpdateAlert.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>k});var r=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),a=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=(n("../node_modules/core-js/modules/es.array.reduce.js"),n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/react/index.js")),i=n("./app/actionCreators/prompts.tsx"),s=n("./app/actions/sidebarPanelActions.tsx"),l=n("./app/components/alert.tsx"),c=n("./app/constants/globalSelectionHeader.tsx"),d=n("./app/icons/index.tsx"),p=n("./app/locale.tsx"),u=n("./app/styles/space.tsx"),h=n("./app/utils/analytics.tsx"),m=n("./app/utils/promptIsDismissed.tsx"),g=n("./app/utils/withApi.tsx"),v=n("./app/utils/withGlobalSelection.tsx"),f=n("./app/utils/withOrganization.tsx"),y=n("./app/utils/withSdkUpdates.tsx"),x=n("./app/components/sidebar/types.tsx"),Z=n("./app/components/button.tsx"),w=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class b extends o.Component{constructor(...e){super(...e),(0,r.Z)(this,"state",{isDismissed:null}),(0,r.Z)(this,"snoozePrompt",(()=>{const{api:e,organization:t}=this.props;(0,i.Xt)(e,{organizationId:t.id,feature:"sdk_updates",status:"snoozed"}),this.setState({isDismissed:!0}),(({organization:e})=>{(0,h.ec)({eventKey:"sdk_updates.snoozed",eventName:"SDK Updates: Snoozed",organization_id:e.id})})({organization:this.props.organization})}))}componentDidMount(){this.promptsCheck(),(({organization:e})=>{(0,h.ec)({eventKey:"sdk_updates.seen",eventName:"SDK Updates: Seen",organization_id:e.id})})({organization:this.props.organization})}async promptsCheck(){const{api:e,organization:t}=this.props,n=await(0,i.vu)(e,{organizationId:t.id,feature:"sdk_updates"});this.setState({isDismissed:(0,m.I)(n)})}render(){const{api:e,selection:t,sdkUpdates:n,organization:r,Wrapper:a,...o}=this.props,{isDismissed:i}=this.state;if(!n||null===i||i)return null;if(0===(u=0===(null==t?void 0:t.projects.length)||(null==t?void 0:t.projects)===[c.mP]?n:n.filter((e=>{var n;return null==t||null===(n=t.projects)||void 0===n?void 0:n.includes(parseInt(e.projectId,10))})),u.reduce(((e,t)=>[...e,...t.suggestions]),[])).length)return null;var u;const m=(0,w.tZ)(Z.ZP,{priority:"link",onClick:()=>{s.Z.activatePanel(x.z.Broadcasts),(({organization:e})=>{(0,h.ec)({eventKey:"sdk_updates.clicked",eventName:"SDK Updates: Clicked",organization_id:e.id})})({organization:r})},children:(0,p.t)("Review updates")}),g=(0,w.tZ)(l.Z,{type:"info",icon:(0,w.tZ)(d.XK,{}),...o,children:(0,w.BX)(S,{children:[(0,p.t)("You have outdated SDKs in your projects. Update them for important fixes and features."),(0,w.BX)(_,{children:[(0,w.tZ)(Z.ZP,{priority:"link",title:(0,p.t)("Dismiss for the next two weeks"),onClick:this.snoozePrompt,children:(0,p.t)("Remind me later")}),"|",m]})]})});return a?(0,w.tZ)(a,{children:g}):g}}b.displayName="InnerGlobalSdkSuggestions";const S=(0,a.Z)("div",{target:"e13jrk6t1"})("display:flex;flex-wrap:wrap;@media (min-width: ",(e=>e.theme.breakpoints[0]),"){justify-content:space-between;}"),_=(0,a.Z)("div",{target:"e13jrk6t0"})("display:grid;grid-template-columns:repeat(3, max-content);grid-gap:",(0,u.Z)(1),";"),k=(0,f.Z)((0,y.Z)((0,v.Z)((0,g.Z)(b))))},"./app/views/eventsV2/tags.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>_});var r=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),a=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=(n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/react/index.js")),i=n("../node_modules/@sentry/minimal/esm/index.js"),s=n("./app/actionCreators/events.tsx"),l=n("./app/components/charts/errorPanel.tsx"),c=n("./app/components/charts/styles.tsx"),d=n("./app/components/emptyStateWarning.tsx"),p=n("./app/components/placeholder.tsx"),u=n("./app/components/tagDistributionMeter.tsx"),h=n("./app/icons/index.tsx"),m=n("./app/locale.tsx"),g=n("./app/styles/space.tsx"),v=n("./app/utils/analytics.tsx"),f=n("./app/utils/discover/eventView.tsx"),y=n("./app/utils/withApi.tsx"),x=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class Z extends o.Component{constructor(...e){super(...e),(0,r.Z)(this,"state",{loading:!0,tags:[],totalValues:null,error:""}),(0,r.Z)(this,"shouldRefetchData",(e=>{const t=this.props.eventView.getFacetsAPIPayload(this.props.location),n=e.eventView.getFacetsAPIPayload(e.location);return!(0,f.ze)(t,n)})),(0,r.Z)(this,"fetchData",(async(e=!1)=>{const{api:t,organization:n,eventView:r,location:a,confirmedQuery:o}=this.props;if(this.setState({loading:!0,error:"",tags:[]}),e||!1!==o)try{const e=await(0,s.eV)(t,n.slug,r.getFacetsAPIPayload(a));this.setState({loading:!1,tags:e})}catch(e){i.Tb(e),this.setState({loading:!1,error:e})}})),(0,r.Z)(this,"handleTagClick",(e=>{const{organization:t}=this.props;(0,v.ec)({eventKey:"discover_v2.facet_map.clicked",eventName:"Discoverv2: Clicked on a tag on the facet map",tag:e,organization_id:parseInt(t.id,10)})})),(0,r.Z)(this,"renderBody",(()=>{const{loading:e,error:t,tags:n}=this.state;return e?this.renderPlaceholders():t?(0,x.tZ)(l.Z,{height:"132px",children:(0,x.tZ)(h.FC,{color:"gray300",size:"lg"})}):n.length>0?n.map((e=>this.renderTag(e))):(0,x.tZ)(w,{small:!0,children:(0,m.t)("No tags found")})}))}componentDidMount(){this.fetchData(!0)}componentDidUpdate(e){(this.shouldRefetchData(e)||e.confirmedQuery!==this.props.confirmedQuery)&&this.fetchData()}renderTag(e){const{generateUrl:t,totalValues:n}=this.props,r=e.topValues.map((n=>(n.url=t(e.key,n.value),n))),a=r.length>0?Math.max(Number(n),r[0].count):n;return(0,x.tZ)(u.Z,{title:e.key,segments:r,totalValues:Number(a),renderLoading:()=>(0,x.tZ)(b,{height:"16px"}),onTagClick:this.handleTagClick,showReleasePackage:!0},e.key)}renderPlaceholders(){return(0,x.BX)(o.Fragment,{children:[(0,x.tZ)(S,{},"title-1"),(0,x.tZ)(b,{},"bar-1"),(0,x.tZ)(S,{},"title-2"),(0,x.tZ)(b,{},"bar-2"),(0,x.tZ)(S,{},"title-3"),(0,x.tZ)(b,{},"bar-3")]})}render(){return(0,x.BX)(o.Fragment,{children:[(0,x.tZ)(c.OT,{children:(0,m.t)("Tag Summary")}),this.renderBody()]})}}Z.displayName="Tags";const w=(0,a.Z)(d.Z,{target:"e1pu9veq2"})({name:"rtpdsm",styles:"height:132px;padding:54px 15%"}),b=(0,a.Z)(p.Z,{target:"e1pu9veq1"})("border-radius:",(e=>e.theme.borderRadius),";height:16px;margin-bottom:",(0,g.Z)(1.5),";"),S=(0,a.Z)(p.Z,{target:"e1pu9veq0"})("width:100px;height:12px;margin-bottom:",(0,g.Z)(.5),";"),_=(0,y.Z)(Z)},"./app/views/performance/transactionSummary/index.tsx":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>tt});var r=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),a=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=(n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/core-js/modules/es.string.trim.js"),n("../node_modules/core-js/modules/es.array.reduce.js"),n("../node_modules/core-js/modules/es.string.replace.js"),n("../node_modules/react/index.js")),i=n("../node_modules/react-router/es/index.js"),s=n("../node_modules/lodash/isEqual.js"),l=n.n(s),c=n("./app/actionCreators/tags.tsx"),d=n("./app/components/lightWeightNoProjectMessage.tsx"),p=n("./app/components/organizations/globalSelectionHeader/index.tsx"),u=n("./app/components/sentryDocumentTitle.tsx"),h=n("./app/locale.tsx"),m=n("./app/styles/organization.tsx"),g=n("./app/utils/analytics.tsx"),v=n("./app/utils/discover/discoverQuery.tsx"),f=n("./app/utils/discover/eventView.tsx"),y=n("./app/utils/discover/fields.tsx"),x=n("./app/utils/performance/histogram/index.tsx"),Z=n("./app/utils/queryString.tsx"),w=n("./app/utils/tokenizeSearch.tsx"),b=n("./app/utils/withApi.tsx"),S=n("./app/utils/withGlobalSelection.tsx"),_=n("./app/utils/withOrganization.tsx"),k=n("./app/utils/withProjects.tsx"),j=n("./app/views/performance/utils.tsx"),z=n("./app/views/performance/transactionSummary/transactionVitals/constants.tsx"),P=n("../node_modules/lodash/omit.js"),V=n.n(P),C=n("./app/components/acl/feature.tsx"),T=n("./app/components/discover/transactionsList.tsx"),I=n("./app/components/events/searchBar.tsx"),A=n("./app/components/globalSdkUpdateAlert.tsx"),q=n("./app/components/layouts/thirds.tsx"),F=n("./app/components/organizations/globalSelectionHeader/getParams.tsx"),D=n("./app/constants/index.tsx"),N=n("./app/styles/space.tsx"),M=n("./app/utils.tsx"),B=n("./app/views/eventsV2/table/cellAction.tsx"),E=n("./app/views/eventsV2/tags.tsx"),L=n("./app/views/performance/transactionSummary/charts.tsx"),O=n("./app/views/performance/transactionSummary/filter.tsx"),X=n("./app/views/performance/transactionSummary/header.tsx"),K=n("../node_modules/lodash/pick.js"),U=n.n(K),W=n("./app/components/button.tsx"),R=n("./app/components/charts/styles.tsx"),$=n("./app/components/emptyStateWarning.tsx"),Q=n("./app/components/issues/groupList.tsx"),H=n("./app/components/panels/index.tsx"),Y=n("./app/constants/globalSelectionHeader.tsx"),G=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const J=new Set(["event.type","project"]);class ee extends o.Component{constructor(...e){super(...e),(0,r.Z)(this,"handleOpenClick",(()=>{const{organization:e}=this.props;(0,g.ec)({eventKey:"performance_views.summary.open_issues",eventName:"Performance Views: Open issues from transaction summary",organization_id:parseInt(e.id,10)})})),(0,r.Z)(this,"renderEmptyMessage",(()=>{const{statsPeriod:e}=this.props,t=e&&D.wh[e],n=t?t.toLowerCase():(0,h.t)("given timeframe");return(0,G.tZ)(H.s_,{children:(0,G.tZ)(H.N,{children:(0,G.tZ)($.Z,{children:(0,G.tZ)("p",{children:(0,h._N)("No new issues for this transaction for the [timePeriod].",{timePeriod:n})})})})})}))}getIssuesEndpoint(){const{transaction:e,organization:t,start:n,end:r,statsPeriod:a,location:o}=this.props,i={start:n,end:r,statsPeriod:a,limit:5,sort:"new",...U()(o.query,[...Object.values(Y.nF),"cursor"])},s=(0,w.aI)((0,Z.ro)(o.query.query,""));return s.getFilterKeys().forEach((e=>{const t=e.startsWith("!")?e.substr(1):e;(t.match(/\w+\(.*\)/)||y.J8.includes(t)||J.has(t))&&s.removeFilter(e)})),s.addFreeText("is:unresolved").setFilterValues("transaction",[e]),{path:"/organizations/".concat(t.slug,"/issues/"),queryParams:{...i,query:s.formatString()}}}render(){const{organization:e}=this.props,{path:t,queryParams:n}=this.getIssuesEndpoint(),r={pathname:"/organizations/".concat(e.slug,"/issues/"),query:n};return(0,G.BX)(o.Fragment,{children:[(0,G.BX)(te,{children:[(0,G.tZ)(R.OT,{children:(0,h.t)("Related Issues")}),(0,G.tZ)(W.ZP,{"data-test-id":"issues-open",size:"small",to:r,onClick:this.handleOpenClick,children:(0,h.t)("Open in Issues")})]}),(0,G.tZ)(ne,{children:(0,G.tZ)(Q.Z,{orgId:e.slug,endpointPath:t,queryParams:n,query:"",canSelectGroups:!1,renderEmptyMessage:this.renderEmptyMessage,withChart:!1,withPagination:!1})})]})}}ee.displayName="RelatedIssues";const te=(0,a.Z)("div",{target:"epdyig71"})("display:flex;align-items:center;justify-content:space-between;margin-bottom:",(0,N.Z)(1),";"),ne=(0,a.Z)("div",{target:"epdyig70"})("margin-bottom:",(0,N.Z)(4),";",H.s_,"{margin-bottom:-",(0,N.Z)(1),";}"),re=ee;var ae=n("../node_modules/@emotion/react/dist/emotion-element-a8309070.browser.esm.js"),oe=n("./app/components/charts/chartZoom.tsx"),ie=n("./app/components/charts/errorPanel.tsx"),se=n("./app/components/charts/eventsRequest.tsx"),le=n("./app/components/charts/lineChart.tsx"),ce=n("./app/components/charts/transitionChart.tsx"),de=n("./app/components/charts/transparentLoadingMask.tsx"),pe=n("./app/components/charts/utils.tsx"),ue=n("./app/components/placeholder.tsx"),he=n("./app/components/questionTooltip.tsx"),me=n("./app/icons/index.tsx"),ge=n("./app/utils/dates.tsx"),ve=n("./app/utils/discover/charts.tsx"),fe=n("./app/utils/formatters.tsx"),ye=n("./app/views/performance/data.tsx");function xe({theme:e,api:t,location:n,eventView:r,organization:a,router:o,isLoading:i,error:s,totals:l}){const c=r.statsPeriod,d=r.start?(0,ge.hC)(r.start):void 0,p=r.end?(0,ge.hC)(r.end):void 0,{utc:u}=(0,F.Q)(n.query),m=e.charts.getColorPalette(3),g={scale:!0,axisLine:{show:!1},axisTick:{show:!1},splitLine:{show:!1}},v={height:480,grid:[{top:"60px",left:"10px",right:"10px",height:"100px"},{top:"220px",left:"10px",right:"10px",height:"100px"},{top:"380px",left:"10px",right:"10px",height:"120px"}],axisPointer:{link:[{xAxisIndex:[0,1,2]}]},xAxes:Array.from(new Array(3)).map(((e,t)=>({gridIndex:t,type:"time",show:!1}))),yAxes:[{gridIndex:0,interval:.2,axisLabel:{formatter:e=>(0,fe.$1)(e,1),color:e.chartLabel},...g},{gridIndex:1,splitNumber:4,interval:.5,max:1,axisLabel:{formatter:e=>(0,fe.rl)(e,0),color:e.chartLabel},...g},{gridIndex:2,splitNumber:4,axisLabel:{formatter:fe.Du,color:e.chartLabel},...g}],utc:"true"===u,isGroupedByDate:!0,showTimeInTooltip:!0,colors:[m[0],m[1],m[2]],tooltip:{trigger:"axis",truncate:80,valueFormatter:ve.CX,nameFormatter:e=>"epm()"===e?"tpm()":e}},f={start:d||null,end:p||null,period:c},y=r.project,x=r.environment,Z=a.apdexThreshold;let w,b,S;return a.features.includes("project-transaction-threshold")?(w="apdex",S=ye.V$.APDEX_NEW,b="apdex()"):(w="apdex_".concat(Z),S=ye.V$.APDEX,b="apdex(".concat(a.apdexThreshold,")")),(0,G.BX)(we,{children:[(0,G.BX)(Se,{top:"0px",children:[(0,G.BX)(be,{children:[(0,h.t)("Apdex"),(0,G.tZ)(he.Z,{position:"top",title:(0,ye.$r)(a,S),size:"sm"})]}),(0,G.tZ)(Ze,{isLoading:i,error:s,value:l?(0,fe.$1)(l[w],4):null})]}),(0,G.BX)(Se,{top:"160px",children:[(0,G.BX)(be,{children:[(0,h.t)("Failure Rate"),(0,G.tZ)(he.Z,{position:"top",title:(0,ye.$r)(a,ye.V$.FAILURE_RATE),size:"sm"})]}),(0,G.tZ)(Ze,{isLoading:i,error:s,value:l?(0,fe.rl)(l.failure_rate):null})]}),(0,G.BX)(Se,{top:"320px",children:[(0,G.BX)(be,{children:[(0,h.t)("TPM"),(0,G.tZ)(he.Z,{position:"top",title:(0,ye.$r)(a,ye.V$.TPM),size:"sm"})]}),(0,G.tZ)(Ze,{isLoading:i,error:s,value:l?(0,h._N)("[tpm] tpm",{tpm:(0,fe.$1)(l.tpm,4)}):null})]}),(0,G.tZ)(oe.Z,{router:o,period:c,start:d,end:p,utc:"true"===u,xAxisIndex:[0,1,2],children:e=>(0,G.tZ)(se.Z,{api:t,organization:a,period:c,project:y,environment:x,start:d,end:p,interval:(0,pe.ZS)(f),showLoading:!1,query:r.query,includePrevious:!1,yAxis:[b,"failure_rate()","epm()"],partial:!0,children:({results:t,errored:n,loading:r,reloading:a})=>{if(n)return(0,G.tZ)(ie.Z,{height:"580px",children:(0,G.tZ)(me.FC,{color:"gray300",size:"lg"})});const o=t?t.map(((e,t)=>({...e,yAxisIndex:t,xAxisIndex:t}))):[];return(0,G.BX)(ce.Z,{loading:r,reloading:a,height:"580px",children:[(0,G.tZ)(de.Z,{visible:a}),(0,G.tZ)(le.Z,{...e,...v,series:o})]})}})})]})}function Ze({error:e,isLoading:t,value:n}){return e?(0,G.tZ)("div",{children:"—"}):t?(0,G.tZ)(ue.Z,{height:"24px"}):(0,G.tZ)(_e,{children:n})}xe.displayName="SidebarCharts";const we=(0,a.Z)("div",{target:"e9e62cr3"})({name:"bjn8wh",styles:"position:relative"}),be=(0,a.Z)(R.OT,{target:"e9e62cr2"})({name:"ti75j2",styles:"margin:0"}),Se=(0,a.Z)("div",{target:"e9e62cr1"})("position:absolute;top:",(e=>e.top),";z-index:1;"),_e=(0,a.Z)("div",{target:"e9e62cr0"})("font-size:",(e=>e.theme.fontSizeExtraLarge),";"),ke=(0,b.Z)((0,ae.b)(i.withRouter(xe)));function je({data:e}){const t=e.reduce(((e,t)=>t.value+e),0);return(0,G.tZ)(Pe,{children:e.map(((e,n)=>(0,G.BX)(o.Fragment,{children:[(0,G.tZ)(Ve,{children:(0,fe.rl)(e.value/t,0)}),(0,G.BX)(Ce,{"data-test-id":"status-".concat(e.label),cursor:e.onClick?"pointer":"default",onClick:e.onClick,children:[(0,G.tZ)(Ie,{style:{width:"".concat((e.value/t*100).toFixed(2),"%")}}),(0,G.tZ)(Te,{children:e.label})]})]},"".concat(n,":").concat(e.label))))})}je.displayName="BreakdownBars";const ze=je,Pe=(0,a.Z)("div",{target:"e1yzi37b4"})("display:grid;grid-template-columns:min-content auto;column-gap:",(0,N.Z)(1),";row-gap:",(0,N.Z)(1),";"),Ve=(0,a.Z)("div",{target:"e1yzi37b3"})("font-size:",(e=>e.theme.fontSizeExtraLarge),";text-align:right;"),Ce=(0,a.Z)("div",{target:"e1yzi37b2"})("padding-left:",(0,N.Z)(1),";padding-right:",(0,N.Z)(1),";position:relative;cursor:",(e=>e.cursor),";"),Te=(0,a.Z)("span",{target:"e1yzi37b1"})("position:relative;color:",(e=>e.theme.textColor),";z-index:2;font-size:",(e=>e.theme.fontSizeSmall),";"),Ie=(0,a.Z)("div",{target:"e1yzi37b0"})("border-radius:2px;background-color:",(e=>e.theme.border),";position:absolute;top:0;left:0;z-index:1;height:100%;width:0%;");function Ae({eventView:e,location:t,organization:n}){const r=e.withColumns([{kind:"function",function:["count","","",void 0]},{kind:"field",field:"transaction.status"}]).withSorts([{kind:"desc",field:"count"}]);return(0,G.BX)(o.Fragment,{children:[(0,G.BX)(R.OT,{children:[(0,h.t)("Status Breakdown"),(0,G.tZ)(he.Z,{position:"top",title:(0,ye.$r)(n,ye.V$.STATUS_BREAKDOWN),size:"sm"})]}),(0,G.tZ)(v.Z,{eventView:r,location:t,orgSlug:n.slug,referrer:"api.performance.status-breakdown",children:({isLoading:n,error:r,tableData:a})=>{if(n)return(0,G.tZ)(ue.Z,{height:"124px"});if(r)return(0,G.tZ)(ie.Z,{height:"124px",children:(0,G.tZ)(me.FC,{color:"gray300",size:"lg"})});if(!a||0===a.data.length)return(0,G.tZ)(qe,{small:!0,children:(0,h.t)("No statuses found")});const o=a.data.map((n=>({label:String(n["transaction.status"]),value:parseInt(String(n.count),10),onClick:()=>{const r=(0,w.aI)(e.query);r.removeFilter("!transaction.status").setFilterValues("transaction.status",[n["transaction.status"]]),i.browserHistory.push({pathname:t.pathname,query:{...t.query,cursor:void 0,query:r.formatString()}})}})));return(0,G.tZ)(ze,{data:o})}})]})}Ae.displayName="StatusBreakdown";const qe=(0,a.Z)($.Z,{target:"elqhyan0"})({name:"wwhhbg",styles:"height:124px;padding:50px 15%"}),Fe=Ae;var De=n("./app/views/performance/transactionSummary/tagExplorer.tsx"),Ne=n("./app/components/links/link.tsx"),Me=n("./app/components/userMisery.tsx"),Be=n("./app/views/performance/transactionSummary/transactionVitals/utils.tsx"),Ee=n("./app/views/performance/transactionSummary/utils.tsx"),Le=n("./app/views/performance/vitalDetail/vitalInfo.tsx");function Oe({eventView:e,isLoading:t,hasWebVitals:n,error:r,totals:a,location:i,organization:s,transactionName:l}){let c=null!==r?(0,G.tZ)("div",{children:"—"}):(0,G.tZ)(ue.Z,{height:"34px"});if(!t&&null===r&&a){let e,t,n;s.features.includes("project-transaction-threshold")?(t=a.project_threshold_config[1],e=a.count_miserable_user,n=a.user_misery):(t=s.apdexThreshold,e=a["count_miserable_user_".concat(t)],n=a["user_misery_".concat(t)]);const r=a.count_unique_user;c=(0,G.tZ)(Me.Z,{bars:40,barHeight:30,userMisery:n,miseryLimit:t,totalUsers:r,miserableUsers:e})}const d=(0,Be.Pl)({orgSlug:s.slug,transaction:l,projectID:(0,Z.ro)(i.query.project),query:i.query});return(0,G.BX)(o.Fragment,{children:[n&&(0,G.BX)(o.Fragment,{children:[(0,G.BX)(Xe,{children:[(0,G.BX)(R.OT,{children:[(0,h.t)("Web Vitals"),(0,G.tZ)(he.Z,{position:"top",title:(0,h.t)('Web Vitals with p75 better than the "poor" threshold, as defined by Google Web Vitals.'),size:"sm"})]}),(0,G.tZ)(Ne.Z,{to:d,children:(0,G.tZ)(me.V$,{})})]}),(0,G.tZ)(Le.Z,{eventView:e,organization:s,location:i,vital:[y.Zl.FCP,y.Zl.LCP,y.Zl.FID,y.Zl.CLS],hideVitalPercentNames:!0,hideDurationDetail:!0}),(0,G.tZ)(Ee.uI,{})]}),(0,G.BX)(R.OT,{children:[(0,h.t)("User Misery"),(0,G.tZ)(he.Z,{position:"top",title:(0,ye.$r)(s,s.features.includes("project-transaction-threshold")?ye.V$.USER_MISERY_NEW:ye.V$.USER_MISERY),size:"sm"})]}),c,(0,G.tZ)(Ee.uI,{})]})}Oe.displayName="UserStats";const Xe=(0,a.Z)("div",{target:"eix0aq80"})({name:"1066lcq",styles:"display:flex;justify-content:space-between;align-items:center"}),Ke=Oe;class Ue extends o.Component{constructor(...e){super(...e),(0,r.Z)(this,"state",{incompatibleAlertNotice:null}),(0,r.Z)(this,"handleSearch",(e=>{const{location:t}=this.props,n=(0,F.Q)({...t.query||{},query:e}),r=V()(n,"cursor");i.browserHistory.push({pathname:t.pathname,query:r})})),(0,r.Z)(this,"generateTagUrl",((e,t)=>{const{location:n}=this.props,r=(0,M.ZT)(n.query,{key:e,value:t});return{...n,query:r}})),(0,r.Z)(this,"handleIncompatibleQuery",((e,t)=>{const n=e((()=>this.setState({incompatibleAlertNotice:null})));this.setState({incompatibleAlertNotice:n})})),(0,r.Z)(this,"handleCellAction",(e=>(t,n)=>{const{eventView:r,location:a}=this.props,o=(0,w.aI)(r.query);o.removeFilter("event.type"),o.removeFilter("transaction"),(0,B.rh)(o,t,e,n),i.browserHistory.push({pathname:a.pathname,query:{...a.query,cursor:void 0,query:o.formatString()}})})),(0,r.Z)(this,"handleTransactionsListSortChange",(e=>{const{location:t}=this.props,n={pathname:t.pathname,query:{...t.query,showTransactions:e,transactionCursor:void 0}};i.browserHistory.push(n)})),(0,r.Z)(this,"handleAllEventsViewClick",(()=>{const{organization:e}=this.props;(0,g.ec)({eventKey:"performance_views.summary.view_in_transaction_events",eventName:"Performance Views: View in All Events from Transaction Summary",organization_id:parseInt(e.id,10)})})),(0,r.Z)(this,"handleDiscoverViewClick",(()=>{const{organization:e}=this.props;(0,g.ec)({eventKey:"performance_views.summary.view_in_discover",eventName:"Performance Views: View in Discover from Transaction Summary",organization_id:parseInt(e.id,10)})})),(0,r.Z)(this,"handleViewDetailsClick",(e=>{const{organization:t}=this.props;(0,g.ec)({eventKey:"performance_views.summary.view_details",eventName:"Performance Views: View Details from Transaction Summary",organization_id:parseInt(t.id,10)})}))}generateEventView(e,t){var n;const{location:r,totalValues:a,spanOperationBreakdownFilter:o}=this.props,{selected:i}=We(r,{p95:null!==(n=null==a?void 0:a.p95)&&void 0!==n?n:0,spanOperationBreakdownFilter:o}),s=e.withSorts([i.sort]);if(o===O.f1.None){const e=[...s.fields.slice(0,t.length)];s.fields=e.filter((({field:e})=>!(0,y.sU)(e)))}return s}render(){var e;let{eventView:t}=this.props;const{transactionName:n,location:r,organization:a,projects:i,isLoading:s,error:l,totalValues:c,onChangeFilter:d,onChangeThreshold:p,spanOperationBreakdownFilter:u}=this.props,m=a.features.includes("performance-events-page"),g=a.features.includes("performance-chart-interpolation"),{incompatibleAlertNotice:v}=this.state,f=(0,Z.ro)(r.query.query,""),x=null===c?null:c.count,w=(0,j.Ik)(t,i)||null!==c&&z.PE.some((e=>e.vitals.some((e=>{const t=(0,y.LY)("percentile(".concat(e,", ").concat(z.GW,")"));return Number.isFinite(c[t])})))),b=(0,j.iL)(t,i),S=[(0,h.t)("event id"),(0,h.t)("user"),(0,h.t)("total duration"),(0,h.t)("trace id"),(0,h.t)("timestamp")];let _=t.clone();if(a.features.includes("performance-ops-breakdown")){const e=(0,O.Is)(u,r);e&&(t=t.clone(),t.query="".concat(t.query," ").concat(e).trim(),_=t.clone());const n=u===O.f1.None?(0,h.t)("operation duration"):"".concat(u," duration");S.splice(2,0,n);let a=y.zD;u!==O.f1.None&&(a=(0,O.T$)(u));const o=[..._.fields];o.splice(2,0,{field:a}),u===O.f1.None&&o.push(...y.$4.map((e=>({field:e})))),_.fields=o}const k={generatePerformanceTransactionEventsView:()=>{const e=this.generateEventView(_,S);return e.query=f,e},handleOpenAllEventsClick:this.handleAllEventsViewClick},P={generateDiscoverEventView:()=>this.generateEventView(_,S),handleOpenInDiscoverClick:this.handleDiscoverViewClick};return(0,G.BX)(o.Fragment,{children:[(0,G.tZ)(X.Z,{eventView:t,location:r,organization:a,projects:i,transactionName:n,currentTab:X.O.TransactionSummary,hasWebVitals:"maybe",handleIncompatibleQuery:this.handleIncompatibleQuery,onChangeThreshold:p}),(0,G.BX)(q.uT,{children:[(0,G.tZ)(Qe,{}),v&&(0,G.tZ)(q.or,{fullWidth:!0,children:v}),(0,G.BX)(q.or,{children:[(0,G.BX)(Re,{children:[(0,G.tZ)(O.ZP,{organization:a,currentFilter:u,onChangeFilter:d}),(0,G.tZ)($e,{searchSource:"transaction_summary",organization:a,projectIds:t.project,query:f,fields:t.fields,onSearch:this.handleSearch,maxQueryLength:D.dI})]}),(0,G.tZ)(L.Z,{organization:a,location:r,eventView:t,totalValues:x,currentFilter:u,withoutZerofill:g}),(0,G.tZ)(T.Z,{location:r,organization:a,eventView:_,...m?k:P,showTransactions:(0,Z.ro)(r.query.showTransactions,Ee.K0.SLOW),breakdown:(0,O.q0)(r),titles:S,handleDropdownChange:this.handleTransactionsListSortChange,generateLink:{id:(0,Ee.vd)(n),trace:(0,Ee.Z6)(t.normalizeDateSelection(r))},baseline:n,handleBaselineClick:this.handleViewDetailsClick,handleCellAction:this.handleCellAction,...We(r,{p95:null!==(e=null==c?void 0:c.p95)&&void 0!==e?e:0,spanOperationBreakdownFilter:u}),forceLoading:s}),(0,G.tZ)(C.Z,{requireAll:!1,features:["performance-tag-explorer","performance-tag-page"],children:(0,G.tZ)(De.D_,{eventView:t,organization:a,location:r,projects:i,transactionName:n,currentFilter:u})}),(0,G.tZ)(re,{organization:a,location:r,transaction:n,start:t.start,end:t.end,statsPeriod:t.statsPeriod})]}),(0,G.BX)(q.MF,{children:[(0,G.tZ)(Ke,{organization:a,location:r,isLoading:s,hasWebVitals:w,error:l,totals:c,transactionName:n,eventView:t}),!b&&(0,G.tZ)(Fe,{eventView:t,organization:a,location:r}),(0,G.tZ)(Ee.uI,{}),(0,G.tZ)(ke,{organization:a,isLoading:s,error:l,totals:c,eventView:t}),(0,G.tZ)(Ee.uI,{}),(0,G.tZ)(E.Z,{generateUrl:this.generateTagUrl,totalValues:x,eventView:t,organization:a,location:r})]})]})]})}}function We(e,t){const n=function({p95:e,spanOperationBreakdownFilter:t}){if(t===O.f1.None)return[{sort:{kind:"asc",field:"transaction.duration"},value:Ee.K0.FASTEST,label:(0,h.t)("Fastest Transactions")},{query:[["transaction.duration","<=".concat(e.toFixed(0))]],sort:{kind:"desc",field:"transaction.duration"},value:Ee.K0.SLOW,label:(0,h.t)("Slow Transactions (p95)")},{sort:{kind:"desc",field:"transaction.duration"},value:Ee.K0.OUTLIER,label:(0,h.t)("Outlier Transactions (p100)")},{sort:{kind:"desc",field:"timestamp"},value:Ee.K0.RECENT,label:(0,h.t)("Recent Transactions")}];const n=(0,O.T$)(t),r=t;return[{sort:{kind:"asc",field:n},value:Ee.K0.FASTEST,label:(0,h.t)("Fastest %s Operations",r)},{query:[["transaction.duration","<=".concat(e.toFixed(0))]],sort:{kind:"desc",field:n},value:Ee.K0.SLOW,label:(0,h.t)("Slow %s Operations (p95)",r)},{sort:{kind:"desc",field:n},value:Ee.K0.OUTLIER,label:(0,h.t)("Outlier %s Operations (p100)",r)},{sort:{kind:"desc",field:"timestamp"},value:Ee.K0.RECENT,label:(0,h.t)("Recent Transactions")}]}(t),r=(0,Z.ro)(e.query.showTransactions,Ee.K0.SLOW);return{selected:n.find((e=>e.value===r))||n[0],options:n}}Ue.displayName="SummaryContent";const Re=(0,a.Z)("div",{target:"e5y9lom2"})("display:flex;width:100%;margin-bottom:",(0,N.Z)(3),";"),$e=(0,a.Z)(I.Z,{target:"e5y9lom1"})({name:"1ff36h2",styles:"flex-grow:1"}),Qe=(0,a.Z)(A.Z,{target:"e5y9lom0"})("@media (min-width: ",(e=>e.theme.breakpoints[1]),"){margin-bottom:0;}");Qe.defaultProps={Wrapper:e=>(0,G.tZ)(q.or,{fullWidth:!0,...e})};const He=(0,k.Z)(Ue);var Ye=n("./app/views/performance/transactionSummary/latencyChart.tsx");class Ge extends o.Component{constructor(...e){super(...e),(0,r.Z)(this,"state",{transactionThreshold:void 0,transactionThresholdMetric:void 0,spanOperationBreakdownFilter:(0,O.q0)(this.props.location),eventView:et(this.props.location,(0,j.JY)(this.props.location))}),(0,r.Z)(this,"onChangeFilter",(e=>{const{location:t,organization:n}=this.props;(0,g.ec)({eventName:"Performance Views: Filter Dropdown",eventKey:"performance_views.filter_dropdown.selection",organization_id:parseInt(n.id,10),action:e});const r={...(0,x.V)(t,[Ye.Oo,Ye.mo]),...(0,O.bz)(e)};e===O.f1.None&&delete r.breakdown,i.browserHistory.push({pathname:t.pathname,query:r})}))}static getDerivedStateFromProps(e,t){return{...t,spanOperationBreakdownFilter:(0,O.q0)(e.location),eventView:et(e.location,(0,j.JY)(e.location))}}componentDidMount(){const{api:e,organization:t,selection:n}=this.props;(0,c.QK)(e,t.slug,n),(0,j.n4)(n)}componentDidUpdate(e){const{api:t,organization:n,selection:r}=this.props;l()(e.selection.projects,r.projects)&&l()(e.selection.datetime,r.datetime)||((0,c.QK)(t,n.slug,r),(0,j.n4)(r))}getDocumentTitle(){const e=(0,j.JY)(this.props.location);return"string"==typeof e&&String(e).trim().length>0?[String(e).trim(),(0,h.t)("Performance")].join(" - "):[(0,h.t)("Summary"),(0,h.t)("Performance")].join(" - ")}getTotalsEventView(e,t){const n=e.apdexThreshold.toString(),r=z.PE.map((({vitals:e})=>e)).reduce(((e,t)=>(t.forEach((t=>e.push(t))),e)),[]),a=e.features.includes("project-transaction-threshold")?[{kind:"function",function:["count_miserable","user",void 0,void 0]},{kind:"function",function:["user_misery","",void 0,void 0]},{kind:"function",function:["apdex","",void 0,void 0]}]:[{kind:"function",function:["count_miserable","user",n,void 0]},{kind:"function",function:["user_misery",n,void 0,void 0]},{kind:"function",function:["apdex",n,void 0,void 0]}];return t.withColumns([{kind:"function",function:["p95","",void 0,void 0]},{kind:"function",function:["count","",void 0,void 0]},{kind:"function",function:["count_unique","user",void 0,void 0]},{kind:"function",function:["failure_rate","",void 0,void 0]},{kind:"function",function:["tpm","",void 0,void 0]},...a,...r.map((e=>({kind:"function",function:["percentile",e,z.GW.toString(),void 0]})))])}render(){const{organization:e,projects:t,location:n}=this.props,{eventView:r,transactionThreshold:a,transactionThresholdMetric:o}=this.state,s=(0,j.JY)(n);if(!r||void 0===s)return i.browserHistory.replace({pathname:"/organizations/".concat(e.slug,"/performance/"),query:{...n.query}}),null;const l=this.getTotalsEventView(e,r),c=1===r.project.length,m=c?t.find((e=>parseInt(e.id,10)===r.project[0])):void 0,g=r.project.map((e=>t.find((t=>parseInt(t.id,10)===e)))).filter((e=>void 0!==e)).map((e=>e.slug));return(0,G.tZ)(u.Z,{title:this.getDocumentTitle(),orgSlug:e.slug,projectSlug:null==m?void 0:m.slug,children:(0,G.tZ)(p.Z,{lockedMessageSubject:(0,h.t)("transaction"),shouldForceProject:c,forceProject:m,specificProjectSlugs:g,disableMultipleProjectSelection:!0,showProjectSettingsLink:!0,children:(0,G.tZ)(Je,{children:(0,G.tZ)(d.Z,{organization:e,children:(0,G.tZ)(v.Z,{eventView:l,orgSlug:e.slug,location:n,transactionThreshold:a,transactionThresholdMetric:o,referrer:"api.performance.transaction-summary",children:({isLoading:t,error:a,tableData:o})=>{var i,l;const c=null!==(i=null==o||null===(l=o.data)||void 0===l?void 0:l[0])&&void 0!==i?i:null;return(0,G.tZ)(He,{location:n,organization:e,eventView:r,transactionName:s,isLoading:t,error:a,totalValues:c,onChangeFilter:this.onChangeFilter,spanOperationBreakdownFilter:this.state.spanOperationBreakdownFilter,onChangeThreshold:(e,t)=>this.setState({transactionThreshold:e,transactionThresholdMetric:t})})}})})})})})}}Ge.displayName="TransactionSummary";const Je=(0,a.Z)(m.JH,{target:"e1kqes0c0"})({name:"1hcx8jb",styles:"padding:0"});function et(e,t){if(void 0===t)return;const n=(0,Z.ro)(e.query.query,""),r=(0,w.aI)(n);return r.setFilterValues("event.type",["transaction"]).setFilterValues("transaction",[t]),Object.keys(r.filters).forEach((e=>{(0,y.h1)(e)&&r.removeFilter(e)})),f.ZP.fromNewQueryWithLocation({id:void 0,version:2,name:t,fields:["id","user.display","transaction.duration","trace","timestamp"],query:r.formatString(),projects:[]},e)}const tt=(0,b.Z)((0,S.Z)((0,k.Z)((0,_.Z)(Ge))))},"./app/views/performance/transactionSummary/transactionVitals/constants.tsx":(e,t,n)=>{"use strict";n.d(t,{sE:()=>i,GW:()=>s,PE:()=>d,QB:()=>p}),n("../node_modules/core-js/modules/es.array.reverse.js"),n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/core-js/modules/es.array.reduce.js");var r=n("./app/utils/discover/fields.tsx"),a=n("./app/utils/performance/vitals/constants.tsx"),o=n("./app/utils/theme.tsx");const i=100,s=.75,l=[{vitals:[r.Zl.FP,r.Zl.FCP,r.Zl.LCP],min:0},{vitals:[r.Zl.FID],min:0,precision:2},{vitals:[r.Zl.CLS],min:0,precision:2}],c=[...o.ZP.charts.getColorPalette(l.reduce(((e,{vitals:t})=>e+t.length),0)-1)].reverse(),d=l.map((e=>({...e,colors:c.splice(0,e.vitals.length)}))),p=l.reduce(((e,{vitals:t})=>(t.forEach((t=>{const n=a.r[t].slug;e.push("".concat(n,"Start")),e.push("".concat(n,"End"))})),e)),[])},"./app/views/performance/vitalDetail/vitalInfo.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n("./app/utils/performance/vitals/vitalsCardsDiscoverQuery.tsx"),a=n("./app/views/performance/landing/vitalsCards.tsx"),o=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function i(e){const{vital:t,eventView:n,organization:i,location:s,hideBar:l,hideStates:c,hideVitalPercentNames:d,hideDurationDetail:p}=e;return(0,o.tZ)(r.Z,{eventView:n,orgSlug:i.slug,location:s,vitals:Array.isArray(t)?t:[t],children:({isLoading:e,vitalsData:n})=>(0,o.tZ)(a.JO,{isLoading:e,data:n,vital:t,showBar:!l,showStates:!c,showVitalPercentNames:!d,showDurationDetail:!p})})}i.displayName="vitalInfo"},"../node_modules/downsample/methods/ASAP.js":(e,t)=>{"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var r={"PointValueExtractor<unknown>":e=>"function"==typeof e,XYDataPoint:e=>null!=e&&r.X(e.x)&&"number"==typeof e.y,X:e=>"number"==typeof e||e instanceof Date},a=e=>{for(var t=0,n=0;n<e.length;n+=1)t+=e[n];return t/e.length},o=(e,t)=>{for(var n=e.length,r=new Array(n),a=0;a<n;a++)r[a]=t(e[a],a);return r},i=e=>r["PointValueExtractor<unknown>"](e)?e:t=>t[e],s=(e,t)=>({x:e,y:t}),l=()=>({x:e=>{var t=r.XYDataPoint(e)?e.x:e[0];return t instanceof Date?t.getTime():t},y:e=>"y"in e?e.y:e[1],toPoint:s}),c=(e,t)=>new e.constructor(t),d=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=[],a=0,o=0;o<t;o++)a+=e[o];for(var i=t;i<=e.length;i++)(i-t)%n==0&&r.push(a/t),a+=e[i]-e[i-t];return r},p=e=>{var t=i(e.x),n=i(e.y),r=e.toPoint;return function(e,a){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(0===e.length)return e;for(var s,l=o(e,n),d=o(e,t),p=c(e,0),u=0,h=0;h<a;h++)u+=l[h];for(var m=a;m<=l.length;m++)(m-a)%i==0&&(s=r((d[m-a]+d[m-1])/2,u/a,m-a),p[p.length]=s),u+=l[m]-l[m-a];return p}};function u(e,t){if(e.length!=t.length)throw"Mismatched lengths";var n=e.length;0!=n&&(0==(n&n-1)?function(e,t){if(e.length!=t.length)throw"Mismatched lengths";var n=e.length;if(1!=n){for(var r=-1,a=0;a<32;a++)1<<a==n&&(r=a);if(-1==r)throw"Length is not a power of 2";for(var o=new Array(n/2),i=new Array(n/2),s=0;s<n/2;s++)o[s]=Math.cos(2*Math.PI*s/n),i[s]=Math.sin(2*Math.PI*s/n);for(var l=0;l<n;l++){var c=m(l,r);if(c>l){var d=e[l];e[l]=e[c],e[c]=d,d=t[l],t[l]=t[c],t[c]=d}}for(var p=2;p<=n;p*=2)for(var u=p/2,h=n/p,g=0;g<n;g+=p)for(var v=g,f=0;v<g+u;v++,f+=h){var y=e[v+u]*o[f]+t[v+u]*i[f],x=-e[v+u]*i[f]+t[v+u]*o[f];e[v+u]=e[v]-y,t[v+u]=t[v]-x,e[v]+=y,t[v]+=x}}}(e,t):function(e,t){if(e.length!=t.length)throw"Mismatched lengths";for(var n=e.length,r=1;r<2*n+1;)r*=2;for(var a=new Array(n),o=new Array(n),i=0;i<n;i++){var s=i*i%(2*n);a[i]=Math.cos(Math.PI*s/n),o[i]=Math.sin(Math.PI*s/n)}for(var l=new Array(r),c=new Array(r),d=0;d<n;d++)l[d]=e[d]*a[d]+t[d]*o[d],c[d]=-e[d]*o[d]+t[d]*a[d];for(var p=n;p<r;p++)l[p]=c[p]=0;var m=new Array(r),g=new Array(r);m[0]=a[0],g[0]=o[0];for(var v=1;v<n;v++)m[v]=m[r-v]=a[v],g[v]=g[r-v]=o[v];for(var f=n;f<=r-n;f++)m[f]=g[f]=0;var y=new Array(r),x=new Array(r);!function(e,t,n,r,a,o){if(e.length!=t.length||e.length!=n.length||n.length!=r.length||e.length!=a.length||a.length!=o.length)throw"Mismatched lengths";var i=e.length;e=e.slice(),t=t.slice(),n=n.slice(),r=r.slice(),u(e,t),u(n,r);for(var s=0;s<i;s++){var l=e[s]*n[s]-t[s]*r[s];t[s]=t[s]*n[s]+e[s]*r[s],e[s]=l}h(e,t);for(var c=0;c<i;c++)a[c]=e[c]/i,o[c]=t[c]/i}(l,c,m,g,y,x);for(var Z=0;Z<n;Z++)e[Z]=y[Z]*a[Z]+x[Z]*o[Z],t[Z]=-y[Z]*o[Z]+x[Z]*a[Z]}(e,t))}function h(e,t){u(t,e)}function m(e,t){for(var n=0,r=0;r<t;r++)n=n<<1|1&e,e>>>=1;return n}p(l());var g,v,f,y=e=>(e=>{for(var t=a(e),n=0,r=0;r<e.length;r+=1)n+=(e[r]-t)*(e[r]-t);return Math.sqrt(n/e.length)})((e=>{var t=e.length-1;if(t<1)return[];for(var n=new Array(t),r=0;r<t;r++)n[r]=e[r+1]-e[r];return n})(e)),x=e=>{for(var t,n,r=e.length,o=a(e),i=0,s=0,l=0;l<r;l++)i+=(n=(t=e[l]-o)*t)*n,s+=n;return r*i/(s*s)},Z=(g=l(),v=i(g.y),f=p(g),function e(t,r){if(0===t.length)return t;if(r<=0)throw new Error("Supplied non-positive resolution parameter to ASAP: ".concat(r));if(t.length>=2*r){var i=Math.trunc(t.length/r);return e(f(t,i,i),r)}for(var s=o(t,v),l=((e,t)=>{for(var r=e.length,o=a(e),i=Math.pow(2,Math.trunc(Math.log2(r))+1),s=new Array(i).fill(0),l=new Array(i).fill(0),c=0;c<r;c+=1)s[c]=e[c]-o;u(s,l);for(var d=0;d<s.length;d+=1)s[d]=Math.pow(s[d],2)+Math.pow(l[d],2),l[d]=0;h(s,l);for(var p=[],m=1;m<t;m++)p[m]=s[m]/s[0];var g=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2,n=e.length;if(n<=1)return[[],0];var r=0,a=[];if(e.length>1)for(var o=e[1]>e[0],i=1,s=2;s<e.length;s+=1)!o&&e[s]>e[s-1]?(i=s,o=!o):o&&e[s]>e[i]?i=s:o&&e[s]<e[s-1]&&(i>1&&e[i]>t&&(a.push(i),e[i]>r&&(r=e[i])),o=!o);if(a.length<=1)for(var l=2;l<n;l+=1)a.push(l);return[a,r]}(p),2);return{correlations:p,peaks:g[0],maxCorrelation:g[1]}})(s,Math.round(s.length/10)),c=l.correlations,p=l.peaks,m=l.maxCorrelation,g=x(s),Z=y(s),w=1,b=1,S=-1,_=s.length/10,k=p.length-1;k>=0;k-=1){var j=p[k];if(j<b||1===j)break;if(!(Math.sqrt(1-c[j])*w>Math.sqrt(1-c[w])*j)){var z=d(s,j,1),P=x(z),V=y(z);P>=g&&(V<Z&&(Z=V,w=j),b=Math.round(Math.max(j*Math.sqrt((m-1)/(c[j]-1)),b)),S<0&&(S=k))}}return S>0&&(S<p.length-2&&(_=p[S+1]),b=Math.max(b,p[S]+1)),w=((e,t,n,r,a,o)=>{for(;e<=t;){var i=Math.round((e+t)/2),s=d(n,i,1);if(x(s)>=a){var l=y(s);l<r&&(o=i,r=l),e=i+1}else t=i-1}return o})(b,_,s,Z,g,w),f(t,w,1)});t.Cl=Z},"../node_modules/lodash/_baseMean.js":(e,t,n)=>{var r=n("../node_modules/lodash/_baseSum.js");e.exports=function(e,t){var n=null==e?0:e.length;return n?r(e,t)/n:NaN}},"../node_modules/lodash/_baseSum.js":e=>{e.exports=function(e,t){for(var n,r=-1,a=e.length;++r<a;){var o=t(e[r]);void 0!==o&&(n=void 0===n?o:n+o)}return n}},"../node_modules/lodash/meanBy.js":(e,t,n)=>{var r=n("../node_modules/lodash/_baseIteratee.js"),a=n("../node_modules/lodash/_baseMean.js");e.exports=function(e,t){return a(e,r(t,2))}}}]);
//# sourceMappingURL=../sourcemaps/app_views_performance_transactionSummary_index_tsx-node_modules_downsample_methods_ASAP_js-no-90e990.f29ccbbab791002eb5aa36b2b7ecfde8.js.map