"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["app_views_dashboardsV2_view_tsx","app_components_sentryDocumentTitle_tsx"],{"./app/components/sentryDocumentTitle.tsx":(a,s,e)=>{e.d(s,{Z:()=>d}),e("../node_modules/react/index.js");var t=e("../node_modules/react-document-title/index.js"),o=e.n(t),r=e("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function n({title:a,orgSlug:s,projectSlug:e,children:t}){const n=s||e?s&&e?"".concat(a," - ").concat(s," - ").concat(e):s?"".concat(a," - ").concat(s):"".concat(a," - ").concat(e):a;return(0,r.tZ)(o(),{title:"".concat(n," - Sentry"),children:t})}n.displayName="SentryDocumentTitle";const d=n},"./app/views/dashboardsV2/orgDashboards.tsx":(a,s,e)=>{e.d(s,{Z:()=>m});var t=e("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=(e("../node_modules/core-js/modules/web.dom-collections.iterator.js"),e("../node_modules/core-js/modules/es.string.replace.js"),e("../node_modules/react/index.js"),e("../node_modules/react-router/es/index.js")),r=e("../node_modules/lodash/isEqual.js"),n=e.n(r),d=e("./app/components/asyncComponent.tsx"),i=e("./app/components/errors/notFound.tsx"),c=e("./app/components/sentryDocumentTitle.tsx"),p=e("./app/locale.tsx"),l=e("./app/utils/analytics.tsx"),h=e("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class u extends d.Z{constructor(...a){super(...a),(0,t.Z)(this,"state",{loading:!0,reloading:!1,error:!1,errors:{},dashboards:[],selectedDashboard:null})}componentDidUpdate(a){n()(a.params.dashboardId,this.props.params.dashboardId)||this.remountComponent()}getEndpoints(){const{organization:a,params:s}=this.props,e="/organizations/".concat(a.slug,"/dashboards/"),t=[["dashboards",e]];return s.dashboardId&&(t.push(["selectedDashboard","".concat(e).concat(s.dashboardId,"/")]),(0,l.ec)({eventKey:"dashboards2.view",eventName:"Dashboards2: View dashboard",organization_id:parseInt(this.props.organization.id,10),dashboard_id:parseInt(s.dashboardId,10)})),t}getDashboards(){const{dashboards:a}=this.state;return Array.isArray(a)?a:[]}onRequestSuccess({stateKey:a,data:s}){const{params:e,organization:t,location:r}=this.props;if(e.dashboardId||"selectedDashboard"===a)return;const n=s.length?s[0].id:"default-overview",d="/organizations/".concat(t.slug,"/dashboard/").concat(n,"/");o.browserHistory.replace({pathname:d,query:{...r.query}})}renderBody(){const{children:a}=this.props,{selectedDashboard:s,error:e}=this.state;return a({error:e,dashboard:s,dashboards:this.getDashboards(),reloadData:this.reloadData.bind(this)})}renderError(a){return Object.values(this.state.errors).find((a=>a&&404===a.status))?(0,h.tZ)(i.Z,{}):super.renderError(a,!0,!0)}renderComponent(){const{organization:a,location:s}=this.props;return a.features.includes("dashboards-basic")?(0,h.tZ)(c.Z,{title:(0,p.t)("Dashboards"),orgSlug:a.slug,children:super.renderComponent()}):(o.browserHistory.replace({pathname:"/organizations/".concat(a.slug,"/dashboards/"),query:{...s.query}}),null)}}const m=u},"./app/views/dashboardsV2/view.tsx":(a,s,e)=>{e.r(s),e.d(s,{default:()=>g,DashboardBasicFeature:()=>x}),e("../node_modules/react/index.js");var t=e("./app/components/acl/feature.tsx"),o=e("./app/components/alert.tsx"),r=e("./app/components/errors/notFound.tsx"),n=e("./app/components/loadingIndicator.tsx"),d=e("./app/locale.tsx"),i=e("./app/styles/organization.tsx"),c=e("./app/utils/withApi.tsx"),p=e("./app/utils/withOrganization.tsx"),l=e("./app/views/dashboardsV2/detail.tsx"),h=e("./app/views/dashboardsV2/orgDashboards.tsx"),u=e("./app/views/dashboardsV2/types.tsx"),m=e("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function b(a){const{organization:s,params:e,api:t,location:o}=a;return(0,m.tZ)(x,{organization:s,children:(0,m.tZ)(h.Z,{api:t,location:o,params:e,organization:s,children:({dashboard:s,dashboards:e,error:t,reloadData:o})=>t?(0,m.tZ)(r.Z,{}):s?(0,m.tZ)(l.Z,{...a,initialState:u.n.VIEW,dashboard:s,dashboards:e,reloadData:o}):(0,m.tZ)(n.Z,{})})})}b.displayName="ViewEditDashboard";const g=(0,c.Z)((0,p.Z)(b)),x=({organization:a,children:s})=>(0,m.tZ)(t.Z,{hookName:"feature-disabled:dashboards-page",features:["organizations:dashboards-basic"],organization:a,renderDisabled:()=>(0,m.tZ)(i.JH,{children:(0,m.tZ)(o.Z,{type:"warning",children:(0,d.t)("You don't have access to this feature")})}),children:s});x.displayName="DashboardBasicFeature"}}]);
//# sourceMappingURL=../sourcemaps/app_views_dashboardsV2_view_tsx.6b87318c45453abb8678a8135be9fc9f.js.map