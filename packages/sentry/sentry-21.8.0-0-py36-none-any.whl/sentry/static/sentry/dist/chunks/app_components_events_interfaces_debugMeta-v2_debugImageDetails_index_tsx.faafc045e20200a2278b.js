"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["app_components_events_interfaces_debugMeta-v2_debugImageDetails_index_tsx"],{"./app/components/events/interfaces/debugMeta-v2/debugImageDetails/index.tsx":(e,t,i)=>{i.r(t),i.d(t,{default:()=>et,modalCss:()=>at});var n=i("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),s=i("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),a=(i("../node_modules/core-js/modules/web.dom-collections.iterator.js"),i("../node_modules/react/index.js")),o=i("../node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),r=i("../node_modules/lodash/partition.js"),l=i.n(r),d=i("../node_modules/lodash/sortBy.js"),c=i.n(d),u=i("./app/actionCreators/indicator.tsx"),p=i("./app/components/alertLink.tsx"),m=i("./app/components/asyncComponent.tsx"),h=i("./app/components/button.tsx"),g=i("./app/components/buttonBar.tsx"),f=i("./app/locale.tsx"),b=i("./app/styles/space.tsx"),Z=i("./app/types/debugFiles.tsx"),y=i("./app/types/debugImage.tsx"),w=i("./app/utils/displayReprocessEventAction.tsx"),v=i("./app/utils/theme.tsx"),x=i("./app/views/settings/projectDebugFiles/utils.tsx"),S=i("./app/components/events/interfaces/debugMeta-v2/utils.tsx"),D=(i("../node_modules/core-js/modules/es.array.reduce.js"),i("../node_modules/core-js/modules/es.string.trim.js"),i("../node_modules/core-js/modules/es.string.replace.js"),i("../node_modules/core-js/modules/es.array.unscopables.flat-map.js"),i("../node_modules/lodash/debounce.js")),_=i.n(D),B=i("../node_modules/lodash/isEqual.js"),k=i.n(B),C=i("../node_modules/lodash/pick.js"),E=i.n(C),F=i("./app/components/links/externalLink.tsx"),I=i("./app/components/panels/panelTable.tsx"),T=i("./app/components/questionTooltip.tsx"),j=i("./app/utils.tsx"),z=i("./app/components/events/interfaces/searchBarAction/index.tsx"),O=i("./app/components/events/interfaces/searchBarAction/searchBarActionFilter.tsx"),R=i("../node_modules/@sentry/minimal/esm/index.js"),N=i("../node_modules/@sentry/types/esm/severity.js"),L=i("./app/components/tag.tsx"),U=i("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const P=function({status:e}){switch(e){case y.il.OK:return(0,U.tZ)(L.Z,{type:"success",children:(0,f.t)("Ok")});case y.il.ERROR:case y.il.MALFORMED:return(0,U.tZ)(L.Z,{type:"error",children:(0,f.t)("Failed")});case y.il.NOT_FOUND:return(0,U.tZ)(L.Z,{children:(0,f.t)("Not Found")});case y.il.NO_PERMISSION:return(0,U.tZ)(L.Z,{type:"highlight",children:(0,f.t)("Permissions")});case y.il.DELETED:return(0,U.tZ)(L.Z,{type:"success",children:(0,f.t)("Deleted")});case y.il.UNAPPLIED:return(0,U.tZ)(L.Z,{type:"warning",children:(0,f.t)("Unapplied")});default:return R.$e((e=>{e.setLevel(N.z.Warning),R.Tb(new Error("Unknown image candidate download status"))})),(0,U.tZ)(L.Z,{children:(0,f.t)("Unknown")})}},A="sentry:project",M="sentry://project_debug_file/";i("../node_modules/core-js/modules/es.symbol.description.js");var X=i("./app/components/tooltip.tsx");function W({candidate:e,hasReprocessWarning:t}){const{download:i}=e,{label:n,description:s,disabled:a}=function(e,t){const{download:i,location:n,source:s}=e;switch(i.status){case y.il.OK:return{label:(0,f.t)("Download Details"),description:n,disabled:!n||s===A};case y.il.ERROR:case y.il.MALFORMED:{const{details:e}=i;return{label:(0,f.t)("Download Details"),description:e,disabled:!e}}case y.il.NOT_FOUND:return{};case y.il.NO_PERMISSION:{const{details:e}=i;return{label:(0,f.t)("Permission Error"),description:e,disabled:!e}}case y.il.DELETED:return{label:(0,f.t)("This file was deleted after the issue was processed.")};case y.il.UNAPPLIED:return{label:t?(0,f.t)("This issue was processed before this debug information file was available. To apply new debug information, reprocess this issue."):(0,f.t)("This issue was processed before this debug information file was available")};default:return R.$e((e=>{e.setLevel(N.z.Warning),R.Tb(new Error("Unknown image candidate download status"))})),{}}}(e,t);return(0,U.tZ)(X.Z,{title:n&&(0,U.BX)(K,{children:[(0,U.tZ)(G,{children:n}),s&&(0,U.tZ)("div",{children:s})]}),disabled:a,children:(0,U.tZ)(P,{status:i.status})})}W.displayName="StatusTooltip";const q=W,K=(0,s.Z)("div",{target:"exze6f61"})({name:"1flj9lk",styles:"text-align:left"}),G=(0,s.Z)("div",{target:"exze6f60"})("display:inline-block;margin-bottom:",(0,b.Z)(.25),";");var J=i("./app/components/acl/access.tsx"),Y=i("./app/components/acl/role.tsx"),$=i("./app/components/actions/button.tsx"),Q=i("./app/components/actions/menuItemActionLink.tsx"),H=i("./app/components/confirm.tsx"),V=i("./app/components/dropdownLink.tsx"),ee=i("./app/icons/index.tsx");const te=(0,f.t)("You do not have permission to download debug files"),ie=(0,f.t)("You do not have permission to delete debug files"),ne=(0,f.t)("Are you sure you wish to delete this file?");function se({candidate:e,organization:t,isInternalSource:i,baseUrl:n,projectId:s,onDelete:o}){const{download:r,location:l}=e,{status:d}=r;if(!l||!i)return null;const c=d===y.il.DELETED,u="".concat(n,"/projects/").concat(t.slug,"/").concat(s,"/files/dsyms/?id=").concat(l),p=(0,U.tZ)(Y.Z,{role:t.debugFilesRole,organization:t,children:({hasRole:e})=>(0,U.tZ)(J.Z,{access:["project:write"],organization:t,children:({hasAccess:t})=>(0,U.BX)(a.Fragment,{children:[(0,U.BX)(oe,{caret:!1,customTitle:(0,U.tZ)($.Z,{label:(0,f.t)("Actions"),disabled:c,icon:(0,U.tZ)(ee.YR,{size:"sm"})}),anchorRight:!0,children:[(0,U.tZ)(X.Z,{disabled:e,title:te,children:(0,U.tZ)(Q.Z,{shouldConfirm:!1,icon:(0,U.tZ)(ee.Dj,{size:"xs"}),title:(0,f.t)("Download"),href:u,onClick:e=>{c&&e.preventDefault()},disabled:!e||c,children:(0,f.t)("Download")})}),(0,U.tZ)(X.Z,{disabled:t,title:ie,children:(0,U.tZ)(Q.Z,{onAction:()=>o(l),message:ne,title:(0,f.t)("Delete"),disabled:!t||c,shouldConfirm:!0,children:(0,f.t)("Delete")})})]}),(0,U.BX)(re,{gap:1,children:[(0,U.tZ)(X.Z,{disabled:e,title:te,children:(0,U.tZ)(h.ZP,{size:"xsmall",icon:(0,U.tZ)(ee.Dj,{size:"xs"}),href:u,disabled:!e,children:(0,f.t)("Download")})}),(0,U.tZ)(X.Z,{disabled:t,title:ie,children:(0,U.tZ)(H.Z,{confirmText:(0,f.t)("Delete"),message:ne,onConfirm:()=>o(l),disabled:!t,children:(0,U.tZ)(h.ZP,{priority:"danger",icon:(0,U.tZ)(ee.Fz,{size:"xs"}),size:"xsmall",disabled:!t})})})]})]})})});return c?(0,U.tZ)(X.Z,{title:(0,f.t)("Actions not available because this debug file was deleted"),children:p}):p}se.displayName="Actions";const ae=se,oe=(0,s.Z)(V.Z,{target:"e1yh202n1"})("display:none;@media (min-width: ",(e=>e.theme.breakpoints[4]),"){display:flex;align-items:center;transition:none;}"),re=(0,s.Z)(g.ZP,{target:"e1yh202n0"})("@media (min-width: ",(e=>e.theme.breakpoints[4]),"){display:none;}");var le=i("../node_modules/lodash/capitalize.js"),de=i.n(le),ce=i("../node_modules/moment-timezone/index.js"),ue=i.n(ce),pe=i("./app/components/dateTime.tsx"),me=i("./app/components/fileSize.tsx"),he=i("./app/components/timeSince.tsx"),ge=i("./app/components/events/interfaces/debugMeta-v2/processing/item.tsx"),fe=i("./app/components/events/interfaces/debugMeta-v2/processing/list.tsx");function be(){return(0,U.tZ)(ye,{children:"|"})}be.displayName="Divider";const Ze=be,ye=(0,s.Z)("div",{target:"e12uydbn0"})("color:",(e=>e.theme.gray200),";");function we({download:e}){let t=[];return e.status!==y.il.OK&&e.status!==y.il.DELETED&&e.status!==y.il.UNAPPLIED||(t=Object.keys(e.features).filter((t=>e.features[t]))),(0,U.tZ)(a.Fragment,{children:Object.keys(y.xe).map((e=>{const{label:i,description:n}=function(e){switch(e){case y.xe.has_debug_info:return{label:(0,f.t)("debug"),description:(0,f.t)("Debug information provides function names and resolves inlined frames during symbolication")};case y.xe.has_sources:return{label:(0,f.t)("sources"),description:(0,f.t)("Source code information allows Sentry to display source code context for stack frames")};case y.xe.has_symbols:return{label:(0,f.t)("symtab"),description:(0,f.t)("Symbol tables are used as a fallback when full debug information is not available")};case y.xe.has_unwind_info:return{label:(0,f.t)("unwind"),description:(0,f.t)("Stack unwinding information improves the quality of stack traces extracted from minidumps")};default:return R.$e((e=>{e.setLevel(N.z.Warning),R.Tb(new Error("Unknown image candidate feature"))})),{}}}(e),s=!t.includes(e);return(0,U.tZ)(xe,{disabled:s,tooltipText:s?void 0:n,children:i},i)}))})}we.displayName="Features";const ve=we,xe=(0,s.Z)(L.Z,{target:"e18zsjal0"})("opacity:",(e=>e.disabled?"0.35":1),";"),Se=function({processingInfo:e}){switch(e.status){case y.kJ.OK:return(0,U.tZ)(ee.DL,{color:"green300",size:"xs"});case y.kJ.ERROR:{const{details:t}=e;return(0,U.tZ)(X.Z,{title:t,disabled:!t,children:(0,U.tZ)(ee.bM,{color:"red300",size:"xs"})})}case y.kJ.MALFORMED:{const{details:t}=e;return(0,U.tZ)(X.Z,{title:t,disabled:!t,children:(0,U.tZ)(ee.FC,{color:"yellow300",size:"xs"})})}default:return R.$e((e=>{e.setLevel(N.z.Warning),R.Tb(new Error("Unknown image candidate ProcessingIcon status"))})),null}};function De({candidate:e,isInternalSource:t,hasReprocessWarning:i,eventDateReceived:n}){const{source_name:s,source:o,location:r,download:l}=e,d=function(){if(e.download.status===y.il.UNAPPLIED||e.download.status===y.il.OK&&t){const{symbolType:t,filename:i}=e;return t===y.Ko.PROGUARD&&"proguard-mapping"===i?null:i}return r&&!t?r:null}();return(0,U.BX)(Be,{children:[(0,U.BX)("div",{children:[(0,U.tZ)("strong",{"data-test-id":"source_name",children:s?de()(s):(0,f.t)("Unknown")}),d&&(0,U.tZ)(ke,{children:d})]}),(0,U.BX)(Ce,{children:[function(){if(e.download.status!==y.il.UNAPPLIED&&e.download.status!==y.il.OK||o!==A)return null;const{symbolType:t,fileType:s,cpuName:r,size:l,dateCreated:d}=e,{tooltipDesc:c,displayIcon:u}=function(t){const s=(0,U.tZ)(pe.Z,{date:t});return e.download.status!==y.il.UNAPPLIED?{tooltipDesc:s,displayIcon:!1}:ue()(t).isBefore(n)?i?{tooltipDesc:(0,U.BX)(a.Fragment,{children:[(0,f._N)("This debug file was uploaded [when] before this event. It takes up to 1 hour for new files to propagate. To apply new debug information, reprocess this issue.",{when:ue()(n).from(t,!0)}),(0,U.tZ)(Fe,{children:s})]}),displayIcon:!0}:ue()(n).diff(t,"minutes")>=60?{tooltipDesc:s,displayIcon:!1}:{tooltipDesc:(0,U.BX)(a.Fragment,{children:[(0,f._N)("This debug file was uploaded [when] before this event. It takes up to 1 hour for new files to propagate.",{when:ue()(n).from(t,!0)}),(0,U.tZ)(Fe,{children:s})]}),displayIcon:!0}:i?{tooltipDesc:(0,U.BX)(a.Fragment,{children:[(0,f._N)("This debug file was uploaded [when] after this event. To apply new debug information, reprocess this issue.",{when:ue()(t).from(n,!0)}),(0,U.tZ)(Fe,{children:s})]}),displayIcon:!0}:{tooltipDesc:(0,U.BX)(a.Fragment,{children:[(0,f._N)("This debug file was uploaded [when] after this event.",{when:ue()(n).from(t,!0)}),(0,U.tZ)(Fe,{children:s})]}),displayIcon:!0}}(d);return(0,U.BX)(a.Fragment,{children:[(0,U.tZ)(X.Z,{title:c,children:(0,U.BX)(Ee,{children:[u&&(0,U.tZ)(ee.FC,{color:"red300",size:"xs"}),(0,f._N)("Uploaded [timesince]",{timesince:(0,U.tZ)(he.Z,{disabledAbsoluteTooltip:!0,date:d})})]})}),(0,U.tZ)(Ze,{}),(0,U.tZ)(me.Z,{bytes:l}),(0,U.tZ)(Ze,{}),(0,U.tZ)("span",{children:t===y.Ko.PROGUARD&&"any"===r?(0,f.t)("proguard mapping"):"".concat(t).concat(s?" ".concat(s):"")}),(0,U.tZ)(Ze,{})]})}(),function(){if(e.download.status!==y.il.OK&&e.download.status!==y.il.DELETED)return null;const t=[],{debug:i,unwind:n}=e;return i&&t.push((0,U.tZ)(ge.Z,{type:"symbolication",icon:(0,U.tZ)(Se,{processingInfo:i})},"symbolication")),n&&t.push((0,U.tZ)(ge.Z,{type:"stack_unwinding",icon:(0,U.tZ)(Se,{processingInfo:n})},"stack_unwinding")),t.length?(0,U.BX)(a.Fragment,{children:[(0,U.tZ)(Ie,{items:t}),(0,U.tZ)(Ze,{})]}):null}(),(0,U.tZ)(ve,{download:l})]})]})}De.displayName="Information";const _e=De,Be=(0,s.Z)("div",{target:"ehqoafm5"})({name:"2w899g",styles:"white-space:pre-wrap;word-break:break-all;max-width:100%"}),ke=(0,s.Z)("span",{target:"ehqoafm4"})("padding-left:",(0,b.Z)(1),";font-size:",(e=>e.theme.fontSizeSmall),";"),Ce=(0,s.Z)("div",{target:"ehqoafm3"})("display:grid;grid-auto-flow:column;grid-auto-columns:max-content;grid-gap:",(0,b.Z)(1),";color:",(e=>e.theme.gray400),";font-size:",(e=>e.theme.fontSizeSmall),";"),Ee=(0,s.Z)("div",{target:"ehqoafm2"})("display:grid;grid-template-columns:max-content 1fr;align-items:center;grid-gap:",(0,b.Z)(.5),";"),Fe=(0,s.Z)("div",{target:"ehqoafm1"})("padding-top:",(0,b.Z)(1),";"),Ie=(0,s.Z)(fe.Z,{target:"ehqoafm0"})("display:grid;grid-auto-flow:column;grid-auto-columns:max-content;grid-gap:",(0,b.Z)(1),";");function Te({candidate:e,builtinSymbolSources:t,organization:i,projectId:n,baseUrl:s,haveCandidatesAtLeastOneAction:o,hasReprocessWarning:r,onDelete:l,eventDateReceived:d}){const{source:c}=e,u=c===A;return(0,U.BX)(a.Fragment,{children:[(0,U.tZ)(ze,{children:(0,U.tZ)(q,{candidate:e,hasReprocessWarning:r})}),(0,U.tZ)(Oe,{children:(0,U.tZ)(_e,{candidate:e,builtinSymbolSources:t,isInternalSource:u,eventDateReceived:d,hasReprocessWarning:r})}),o&&(0,U.tZ)(Re,{children:(0,U.tZ)(ae,{onDelete:l,baseUrl:s,projectId:n,organization:i,candidate:e,isInternalSource:u})})]})}Te.displayName="Candidate";const je=Te,ze=(0,s.Z)("div",{target:"e19z2lid2"})({name:"s5xdrg",styles:"display:flex;align-items:center"}),Oe=(0,s.Z)(ze,{target:"e19z2lid1"})({name:"1ejri1g",styles:"flex-direction:column;align-items:flex-start"}),Re=(0,s.Z)(ze,{target:"e19z2lid0"})({name:"1f60if8",styles:"justify-content:flex-end"}),Ne=(0,f.t)("Status"),Le=(0,f.t)("Source");class Ue extends a.Component{constructor(...e){super(...e),(0,n.Z)(this,"state",{searchTerm:"",filterOptions:{},filteredCandidatesBySearch:[],filteredCandidatesByFilter:[]}),(0,n.Z)(this,"doSearch",_()(this.filterCandidatesBySearch,300)),(0,n.Z)(this,"handleChangeSearchTerm",((e="")=>{this.setState({searchTerm:e})})),(0,n.Z)(this,"handleChangeFilter",(e=>{const{filteredCandidatesBySearch:t}=this.state,i=this.getFilteredCandidatedByFilter(t,e);this.setState({filterOptions:e,filteredCandidatesByFilter:i})})),(0,n.Z)(this,"handleResetFilter",(()=>{const{filterOptions:e}=this.state;this.setState({filterOptions:Object.keys(e).reduce(((t,i)=>(t[i]=e[i].map((e=>({...e,isChecked:!1}))),t)),{})},this.filterCandidatesBySearch)})),(0,n.Z)(this,"handleResetSearchBar",(()=>{const{candidates:e}=this.props;this.setState({searchTerm:"",filteredCandidatesByFilter:e,filteredCandidatesBySearch:e})}))}componentDidMount(){this.getFilters()}componentDidUpdate(e,t){k()(e.candidates,this.props.candidates)?t.searchTerm!==this.state.searchTerm&&this.doSearch():this.getFilters()}filterCandidatesBySearch(){const{searchTerm:e,filterOptions:t}=this.state,{candidates:i}=this.props;if(!e.trim()){const e=this.getFilteredCandidatedByFilter(i,t);return void this.setState({filteredCandidatesBySearch:i,filteredCandidatesByFilter:e})}const n=JSON.stringify(e).replace(/((^")|("$))/g,"").toLocaleLowerCase(),s=i.filter((e=>Object.keys(E()(e,["source_name","location"])).some((t=>{const i=e[t];return("location"!==t||"number"!=typeof Number(i))&&!(!(0,j.ri)(i)||!String(i).trim())&&JSON.stringify(i).replace(/((^")|("$))/g,"").toLocaleLowerCase().trim().includes(n)})))),a=this.getFilteredCandidatedByFilter(s,t);this.setState({filteredCandidatesBySearch:s,filteredCandidatesByFilter:a})}getFilters(){const e=[...this.props.candidates],t=this.getFilterOptions(e);this.setState({filterOptions:t,filteredCandidatesBySearch:e,filteredCandidatesByFilter:this.getFilteredCandidatedByFilter(e,t)})}getFilterOptions(e){const{imageStatus:t}=this.props,i={},n=[...new Set(e.map((e=>e.download.status)))];n.length>1&&(i[Ne]=n.map((e=>({id:e,symbol:(0,U.tZ)(P,{status:e}),isChecked:e!==y.il.NOT_FOUND||t===y.zu.MISSING}))));const s=[...new Set(e.map((e=>{var t;return null!==(t=e.source_name)&&void 0!==t?t:(0,f.t)("Unknown")})))];return s.length>1&&(i[Le]=s.map((e=>({id:e,symbol:e,isChecked:!1})))),i}getFilteredCandidatedByFilter(e,t){var i,n;const s=new Set(null===(i=t[Ne])||void 0===i?void 0:i.filter((e=>e.isChecked)).map((e=>e.id))),a=new Set(null===(n=t[Le])||void 0===n?void 0:n.filter((e=>e.isChecked)).map((e=>e.id)));if(0===s.size&&0===a.size)return e;if(s.size>0){const t=e.filter((e=>s.has(e.download.status)));return 0===a.size?t:t.filter((e=>{var t;return a.has(null!==(t=null==e?void 0:e.source_name)&&void 0!==t?t:"")}))}return e.filter((e=>{var t;return a.has(null!==(t=null==e?void 0:e.source_name)&&void 0!==t?t:"")}))}getEmptyMessage(){const{searchTerm:e,filteredCandidatesByFilter:t,filterOptions:i}=this.state;if(t.length)return{};const n=Object.values(i).flatMap((e=>e)).find((e=>e.isChecked));return e||n?{emptyMessage:(0,f.t)("Sorry, no debug files match your search query"),emptyAction:n?(0,U.tZ)(h.ZP,{onClick:this.handleResetFilter,priority:"primary",children:(0,f.t)("Reset filter")}):(0,U.tZ)(h.ZP,{onClick:this.handleResetSearchBar,priority:"primary",children:(0,f.t)("Clear search bar")})}:{emptyMessage:(0,f.t)("There are no debug files to be displayed")}}render(){const{organization:e,projectId:t,baseUrl:i,builtinSymbolSources:n,onDelete:s,isLoading:a,candidates:o,eventDateReceived:r,hasReprocessWarning:l}=this.props,{searchTerm:d,filterOptions:c,filteredCandidatesByFilter:u}=this.state,p=o.some((e=>e.download.status===y.il.OK&&e.source===A||e.download.status===y.il.DELETED))||l;return(0,U.BX)(Ae,{children:[(0,U.BX)(Me,{children:[(0,U.BX)(Xe,{children:[(0,f.t)("Debug File Candidates"),(0,U.tZ)(T.Z,{title:(0,f._N)("These are the Debug Information Files (DIFs) corresponding to this image which have been looked up on [docLink:symbol servers] during the processing of the stacktrace.",{docLink:(0,U.tZ)(F.Z,{href:"https://docs.sentry.io/platforms/native/data-management/debug-files/symbol-servers/"})}),size:"xs",position:"top",isHoverable:!0})]}),!!o.length&&(0,U.tZ)(qe,{query:d,onChange:e=>this.handleChangeSearchTerm(e),placeholder:(0,f.t)("Search debug file candidates"),filter:(0,U.tZ)(O.Z,{options:c,onChange:this.handleChangeFilter})})]}),(0,U.tZ)(We,{headers:p?[(0,f.t)("Status"),(0,f.t)("Information"),""]:[(0,f.t)("Status"),(0,f.t)("Information")],isEmpty:!u.length,isLoading:a,...this.getEmptyMessage(),children:u.map(((a,o)=>(0,U.tZ)(je,{candidate:a,builtinSymbolSources:n,organization:e,baseUrl:i,projectId:t,eventDateReceived:r,hasReprocessWarning:l,haveCandidatesAtLeastOneAction:p,onDelete:s},o)))})]})}}Ue.displayName="Candidates";const Pe=Ue,Ae=(0,s.Z)("div",{target:"eex5oi54"})({name:"vetbs0",styles:"display:grid"}),Me=(0,s.Z)("div",{target:"eex5oi53"})("display:flex;flex-direction:column;@media (min-width: ",(e=>e.theme.breakpoints[0]),"){flex-wrap:wrap;flex-direction:row;}"),Xe=(0,s.Z)("div",{target:"eex5oi52"})("padding-right:",(0,b.Z)(4),";display:grid;grid-gap:",(0,b.Z)(.5),";grid-template-columns:repeat(2, max-content);align-items:center;font-weight:600;color:",(e=>e.theme.gray400),";height:32px;flex:1;@media (min-width: ",(e=>e.theme.breakpoints[0]),"){margin-bottom:",(0,b.Z)(1),";}"),We=(0,s.Z)(I.Z,{target:"eex5oi51"})("grid-template-columns:",(e=>3===e.headers.length?"max-content 1fr max-content":"max-content 1fr"),";height:100%;@media (min-width: ",(e=>e.theme.breakpoints[4]),"){overflow:visible;}"),qe=(0,s.Z)(z.Z,{target:"eex5oi50"})("margin-bottom:",(0,b.Z)(1.5),";");var Ke=i("./app/components/notAvailable.tsx"),Ge=i("./app/components/events/interfaces/debugMeta-v2/debugImage/processings.tsx");function Je({image:e}){const{debug_id:t,debug_file:i,code_id:n,code_file:s,arch:a,unwind_status:o,debug_status:r}=null!=e?e:{},l=e?(0,S.a$)(e):void 0;return(0,U.BX)($e,{children:[(0,U.tZ)(Qe,{coloredBg:!0,children:(0,f.t)("Address Range")}),(0,U.tZ)(He,{coloredBg:!0,children:null!=l?l:(0,U.tZ)(Ke.Z,{})}),(0,U.tZ)(Qe,{children:(0,f.t)("Debug ID")}),(0,U.tZ)(He,{children:null!=t?t:(0,U.tZ)(Ke.Z,{})}),(0,U.tZ)(Qe,{coloredBg:!0,children:(0,f.t)("Debug File")}),(0,U.tZ)(He,{coloredBg:!0,children:null!=i?i:(0,U.tZ)(Ke.Z,{})}),(0,U.tZ)(Qe,{children:(0,f.t)("Code ID")}),(0,U.tZ)(He,{children:null!=n?n:(0,U.tZ)(Ke.Z,{})}),(0,U.tZ)(Qe,{coloredBg:!0,children:(0,f.t)("Code File")}),(0,U.tZ)(He,{coloredBg:!0,children:null!=s?s:(0,U.tZ)(Ke.Z,{})}),(0,U.tZ)(Qe,{children:(0,f.t)("Architecture")}),(0,U.tZ)(He,{children:null!=a?a:(0,U.tZ)(Ke.Z,{})}),(0,U.tZ)(Qe,{coloredBg:!0,children:(0,f.t)("Processing")}),(0,U.tZ)(He,{coloredBg:!0,children:o||r?(0,U.tZ)(Ge.Z,{unwind_status:o,debug_status:r}):(0,U.tZ)(Ke.Z,{})})]})}Je.displayName="GeneralInfo";const Ye=Je,$e=(0,s.Z)("div",{target:"eqrtww2"})({name:"24qvpm",styles:"display:grid;grid-template-columns:max-content 1fr"}),Qe=(0,s.Z)("div",{target:"eqrtww1"})("color:",(e=>e.theme.textColor),";padding:",(0,b.Z)(1)," ",(0,b.Z)(1.5)," ",(0,b.Z)(1)," ",(0,b.Z)(1),";",(e=>e.coloredBg&&"background-color: ".concat(e.theme.backgroundSecondary,";")),";"),He=(0,s.Z)(Qe,{target:"eqrtww0"})("white-space:pre-wrap;word-break:break-all;color:",(e=>e.theme.subText),";padding:",(0,b.Z)(1),";font-family:",(e=>e.theme.text.familyMono),";",(e=>e.coloredBg&&"background-color: ".concat(e.theme.backgroundSecondary,";")),";");class Ve extends m.Z{constructor(...e){super(...e),(0,n.Z)(this,"handleDelete",(async e=>{const{organization:t,projectId:i}=this.props;this.setState({loading:!0});try{await this.api.requestPromise("/projects/".concat(t.slug,"/").concat(i,"/files/dsyms/?id=").concat(e),{method:"DELETE"}),this.fetchData()}catch{(0,u.Iw)((0,f.t)("An error occurred while deleting the debug file.")),this.setState({loading:!1})}}))}getDefaultState(){return{...super.getDefaultState(),debugFiles:[],builtinSymbolSources:[]}}componentDidUpdate(e,t){!e.image&&this.props.image&&this.remountComponent(),super.componentDidUpdate(e,t)}getUplodedDebugFiles(e){return e.find((e=>e.source===A))}getEndpoints(){const{organization:e,projectId:t,image:i}=this.props;if(!i)return[];const{debug_id:n,candidates:s=[]}=i,{builtinSymbolSources:a}=this.state||{},o=[];return this.getUplodedDebugFiles(s)&&o.push(["debugFiles","/projects/".concat(e.slug,"/").concat(t,"/files/dsyms/?debug_id=").concat(n),{query:{file_formats:["breakpad","macho","elf","pe","pdb","sourcebundle"]}}]),null!=a&&a.length||!e.features.includes("symbol-sources")||o.push(["builtinSymbolSources","/builtin-symbol-sources/",{}]),o}sortCandidates(e,t){const[i,n]=l()(e,(e=>e.download.status===y.il.NO_PERMISSION)),[s,a]=l()(n,(e=>e.download.status===y.il.MALFORMED)),[o,r]=l()(a,(e=>e.download.status===y.il.ERROR)),[d,u]=l()(r,(e=>e.download.status===y.il.OK)),[p,m]=l()(u,(e=>e.download.status===y.il.DELETED));return[...c()(i,["source_name","location"]),...c()(s,["source_name","location"]),...c()(o,["source_name","location"]),...c()(d,["source_name","location"]),...c()(p,["source_name","location"]),...c()(t,["source_name","location"]),...c()(m,["source_name","location"])]}getCandidates(){const{debugFiles:e,loading:t}=this.state,{image:i}=this.props,{candidates:n=[]}=null!=i?i:{};if(!e||t)return n;const s=n.map((({location:e,...t})=>({...t,location:null!=e&&e.includes(M)?e.split(M)[1]:e}))),a=new Set(s.map((({location:e})=>e)).filter((e=>!!e))),[o,r]=l()(e,(e=>!a.has(e.id))),d=o.map((e=>{var t;const{data:i,symbolType:n,objectName:s,id:a,size:o,dateCreated:r,cpuName:l}=e,d=null!==(t=null==i?void 0:i.features)&&void 0!==t?t:[];return{download:{status:y.il.UNAPPLIED,features:{has_sources:d.includes(Z.Wi.SOURCES),has_debug_info:d.includes(Z.Wi.DEBUG),has_unwind_info:d.includes(Z.Wi.UNWIND),has_symbols:d.includes(Z.Wi.SYMTAB)}},cpuName:l,location:a,filename:s,size:o,dateCreated:r,symbolType:n,fileType:(0,x.J)(e),source:A,source_name:(0,f.t)("Sentry")}})),[c,u]=l()(s,(e=>e.download.status===y.il.OK&&e.source===A)),p=c.map((e=>{const t=r.find((t=>t.id===e.location));if(!t)return{...e,download:{...e.download,status:y.il.DELETED}};const{symbolType:i,objectName:n,id:s,size:a,dateCreated:o,cpuName:l}=t;return{...e,cpuName:l,location:s,filename:n,size:a,dateCreated:o,symbolType:i,fileType:(0,x.J)(t)}}));return this.sortCandidates([...p,...u],d)}getDebugFilesSettingsLink(){const{organization:e,projectId:t,image:i}=this.props,n=e.slug,s=null==i?void 0:i.debug_id;if(n&&t&&s)return"/settings/".concat(n,"/projects/").concat(t,"/debug-symbols/?query=").concat(s)}renderBody(){const{Header:e,Body:t,Footer:i,image:n,organization:s,projectId:o,onReprocessEvent:r,event:l}=this.props,{loading:d,builtinSymbolSources:c}=this.state,{code_file:u,status:m}=null!=n?n:{},g=this.getDebugFilesSettingsLink(),b=this.getCandidates(),Z=this.api.baseUrl,v=(0,S.UO)(u),x=b.some((e=>e.download.status===y.il.UNAPPLIED))&&(0,w.B)(s.features,l)&&!!r;return(0,U.BX)(a.Fragment,{children:[(0,U.tZ)(e,{closeButton:!0,children:(0,U.BX)(it,{children:[(0,f.t)("Image"),(0,U.tZ)(nt,{children:null!=v?v:(0,f.t)("Unknown")})]})}),(0,U.tZ)(t,{children:(0,U.BX)(tt,{children:[(0,U.tZ)(Ye,{image:n}),x&&(0,U.tZ)(p.Z,{priority:"warning",size:"small",onClick:r,withoutMarginBottom:!0,children:(0,f.t)("You’ve uploaded new debug files. Reprocess events in this issue to view a better stack trace")}),(0,U.tZ)(Pe,{imageStatus:m,candidates:b,organization:s,projectId:o,baseUrl:Z,isLoading:d,eventDateReceived:l.dateReceived,builtinSymbolSources:c,onDelete:this.handleDelete,hasReprocessWarning:x})]})}),(0,U.tZ)(i,{children:(0,U.BX)(st,{gap:1,children:[(0,U.tZ)(h.ZP,{href:"https://docs.sentry.io/platforms/native/data-management/debug-files/",external:!0,children:(0,f.t)("Read the docs")}),g&&(0,U.tZ)(h.ZP,{title:(0,f.t)("Search for this debug file in all images for the %s project",o),to:g,children:(0,f.t)("Open in Settings")})]})})]})}}const et=Ve,tt=(0,s.Z)("div",{target:"ez3htky3"})("display:grid;grid-gap:",(0,b.Z)(3),";font-size:",(e=>e.theme.fontSizeMedium),";"),it=(0,s.Z)("div",{target:"ez3htky2"})("display:grid;grid-template-columns:max-content 1fr;grid-gap:",(0,b.Z)(1),";align-items:center;font-size:",(e=>e.theme.fontSizeExtraLarge),";max-width:calc(100% - 40px);word-break:break-all;"),nt=(0,s.Z)("span",{target:"ez3htky1"})("font-family:",(e=>e.theme.text.familyMono),";"),st=(0,s.Z)(g.ZP,{target:"ez3htky0"})({name:"1bmnxg7",styles:"white-space:nowrap"}),at=(0,o.iv)("[role='document']{overflow:initial;}@media (min-width: ",v.ZP.breakpoints[0],"){width:90%;}@media (min-width: ",v.ZP.breakpoints[3],"){width:70%;}@media (min-width: ",v.ZP.breakpoints[4],"){width:50%;}","")},"./app/types/debugFiles.tsx":(e,t,i)=>{let n,s,a;i.d(t,{BQ:()=>n,Wi:()=>s,Et:()=>a}),function(e){e.EXE="exe",e.DBG="dbg",e.LIB="lib"}(n||(n={})),function(e){e.SYMTAB="symtab",e.DEBUG="debug",e.UNWIND="unwind",e.SOURCES="sources"}(s||(s={})),function(e){e.HTTP="http",e.S3="s3",e.GCS="gcs",e.APP_STORE_CONNECT="appStoreConnect"}(a||(a={}))},"./app/views/settings/projectDebugFiles/utils.tsx":(e,t,i)=>{i.d(t,{J:()=>a,V:()=>o});var n=i("./app/locale.tsx"),s=i("./app/types/debugFiles.tsx");function a(e){var t;switch(null===(t=e.data)||void 0===t?void 0:t.type){case s.BQ.EXE:return(0,n.t)("executable");case s.BQ.DBG:return(0,n.t)("debug companion");case s.BQ.LIB:return(0,n.t)("dynamic library");default:return null}}function o(e){switch(e){case s.Wi.SYMTAB:return(0,n.t)("Symbol tables are used as a fallback when full debug information is not available");case s.Wi.DEBUG:return(0,n.t)("Debug information provides function names and resolves inlined frames during symbolication");case s.Wi.UNWIND:return(0,n.t)("Stack unwinding information improves the quality of stack traces extracted from minidumps");case s.Wi.SOURCES:return(0,n.t)("Source code information allows Sentry to display source code context for stack frames");default:return null}}}}]);
//# sourceMappingURL=../sourcemaps/app_components_events_interfaces_debugMeta-v2_debugImageDetails_index_tsx.44af0b7d30f9252014e2a38990d0751d.js.map