"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["app_views_settings_projectAlerts_settings_tsx"],{"./app/components/pluginList.tsx":(e,t,s)=>{s.d(t,{Z:()=>j});var n=s("./app/actionCreators/plugins.tsx"),i=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=s("./app/components/panels/index.tsx"),r=s("./app/components/textOverflow.tsx"),a=s("./app/locale.tsx"),l=s("./app/plugins/components/pluginIcon.tsx"),d=s("./app/styles/space.tsx"),p=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const c=({plugins:e,onEnablePlugin:t})=>0===e.length?null:(0,p.BX)(o.s_,{children:[(0,p.tZ)(o.V9,{children:(0,a.t)("Inactive Integrations")}),(0,p.tZ)(o.N,{children:(0,p.tZ)(u,{children:e.map((e=>(0,p.tZ)(m,{onClick:()=>t(e),className:"ref-plugin-enable-".concat(e.id),children:(0,p.BX)(g,{children:[(0,p.tZ)(h,{pluginId:e.id}),(0,p.tZ)(r.Z,{children:e.shortName||e.name})]})},e.id)))})})]});c.displayName="InactivePlugins";const u=(0,i.Z)("div",{target:"e4awzvo3"})("display:flex;padding:",(0,d.Z)(1),";flex:1;flex-wrap:wrap;"),m=(0,i.Z)("button",{target:"e4awzvo2"})("margin:",(0,d.Z)(1),";width:175px;text-align:center;font-size:",(e=>e.theme.fontSizeSmall),";color:#889ab0;letter-spacing:0.1px;font-weight:600;text-transform:uppercase;border:1px solid #eee;background:inherit;border-radius:",(e=>e.theme.borderRadius),";padding:10px;&:hover{border-color:#ccc;}"),g=(0,i.Z)("div",{target:"e4awzvo1"})({name:"1wnowod",styles:"display:flex;align-items:center;justify-content:center"}),h=(0,i.Z)(l.ZP,{target:"e4awzvo0"})("margin-right:",(0,d.Z)(1),";"),f=c;var x=s("./app/components/pluginConfig.tsx");const b=({organization:e,project:t,pluginList:s,onDisablePlugin:i=(()=>{}),onEnablePlugin:r=(()=>{})})=>{const l=s=>{(0,n.rR)({projectId:t.slug,orgId:e.slug,pluginId:s.slug}),i(s)};return s.length?(0,p.BX)("div",{children:[s.filter((e=>e.enabled)).map((s=>(0,p.tZ)(x.Z,{data:s,organization:e,project:t,onDisablePlugin:l},s.id))),(0,p.tZ)(f,{plugins:s.filter((e=>!e.enabled&&!e.isHidden)),onEnablePlugin:s=>{(0,n.Cg)({projectId:t.slug,orgId:e.slug,pluginId:s.slug}),r(s)}})]}):(0,p.tZ)(o.s_,{children:(0,p.tZ)(o.Lv,{children:(0,a.t)("Oops! Looks like there aren't any available integrations installed.")})})};b.displayName="PluginList";const j=b},"./app/data/forms/projectAlerts.tsx":(e,t,s)=>{s.r(t),s.d(t,{route:()=>i,fields:()=>r});var n=s("./app/locale.tsx");const i="/settings/:orgId/projects/:projectId/alerts/",o=e=>(e=Number(e)/60,(0,n.tn)("%s minute","%s minutes",e)),r={subjectTemplate:{name:"subjectTemplate",type:"string",label:(0,n.t)("Subject Template"),placeholder:"e.g. $shortID - $title",help:(0,n.t)("The email subject to use (excluding the prefix) for individual alerts. Usable variables include: $title, $shortID, $projectID, $orgID, and ${tag:key}, such as ${tag:environment} or ${tag:release}.")},digestsMinDelay:{name:"digestsMinDelay",type:"range",min:60,max:3600,step:60,defaultValue:300,label:(0,n.t)("Minimum delivery interval"),help:(0,n.t)("Notifications will be delivered at most this often."),formatLabel:o},digestsMaxDelay:{name:"digestsMaxDelay",type:"range",min:60,max:3600,step:60,defaultValue:300,label:(0,n.t)("Maximum delivery interval"),help:(0,n.t)("Notifications will be delivered at least this often."),formatLabel:o}}},"./app/utils/routeTitle.tsx":(e,t,s)=>{s.d(t,{Z:()=>n});const n=function(e,t,s=!0,n){const i="".concat(e," - ").concat(t),o=n?"".concat(i," - ").concat(n):i;return s?"".concat(o," - Sentry"):o}},"./app/views/asyncView.tsx":(e,t,s)=>{s.d(t,{Z:()=>a}),s("../node_modules/react/index.js");var n=s("../node_modules/react-document-title/index.js"),i=s.n(n),o=s("./app/components/asyncComponent.tsx"),r=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class a extends o.Z{getTitle(){return""}render(){const e=this.getTitle();return(0,r.tZ)(i(),{title:"".concat(e?"".concat(e," - "):"","Sentry"),children:this.renderComponent()})}}a.displayName="AsyncView"},"./app/views/settings/components/forms/formPanel.tsx":(e,t,s)=>{s.d(t,{Z:()=>d});var n=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=s("../node_modules/react/index.js"),o=s("./app/components/panels/index.tsx"),r=s("./app/utils/sanitizeQuerySelector.tsx"),a=s("./app/views/settings/components/forms/fieldFromConfig.tsx"),l=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class d extends i.Component{render(){const{title:e,fields:t,access:s,disabled:n,additionalFieldProps:i,renderFooter:d,renderHeader:p,...c}=this.props;return(0,l.BX)(o.s_,{id:"string"==typeof e?(0,r.m)(e):void 0,children:[e&&(0,l.tZ)(o.V9,{children:e}),(0,l.BX)(o.N,{children:["function"==typeof p&&p({title:e,fields:t}),t.map((e=>{if("function"==typeof e)return e();const{defaultValue:t,...o}=e;return!0===n&&(o.disabled=!0,o.disabledReason=void 0),(0,l.tZ)(a.Z,{access:s,disabled:n,...c,...i,field:o,highlighted:this.props.highlighted==="#".concat(e.name)},e.name)})),"function"==typeof d&&d({title:e,fields:t})]})]})}}d.displayName="FormPanel",(0,n.Z)(d,"defaultProps",{additionalFieldProps:{}})},"./app/views/settings/components/forms/jsonForm.tsx":(e,t,s)=>{s.d(t,{Z:()=>g});var n=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=(s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/react/index.js")),o=s("../node_modules/react-router/es/index.js"),r=s("../node_modules/@sentry/minimal/esm/index.js"),a=s("../node_modules/scroll-to-element/index.js"),l=s.n(a),d=s("./app/utils.tsx"),p=s("./app/utils/sanitizeQuerySelector.tsx"),c=s("./app/views/settings/components/forms/formPanel.tsx"),u=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class m extends i.Component{constructor(...e){var t;super(...e),(0,n.Z)(this,"state",{highlighted:null===(t=this.props.location)||void 0===t?void 0:t.hash})}componentDidMount(){this.scrollToHash()}UNSAFE_componentWillReceiveProps(e){if(this.props.location.hash!==e.location.hash){const t=e.location.hash;this.scrollToHash(t),this.setState({highlighted:t})}}scrollToHash(e){var t;const s=e||(null===(t=this.props.location)||void 0===t?void 0:t.hash);if(s)try{l()((0,p.m)(decodeURIComponent(s)),{align:"middle",offset:-100})}catch(e){r.Tb(e)}}shouldDisplayForm(e){const t=e.filter((e=>"function"!=typeof e&&(0,d.ri)(null==e?void 0:e.visible)));if(e.length===t.length){const{additionalFieldProps:e,...s}=this.props;return!t.every((t=>"function"==typeof t.visible?!t.visible({...s,...e}):!t.visible))}return!0}renderForm({fields:e,formPanelProps:t,title:s}){return this.shouldDisplayForm(e)||null!=t&&t.renderFooter||null!=t&&t.renderHeader?(0,u.tZ)(c.Z,{title:s,fields:e,...t}):null}render(){const{access:e,fields:t,title:s,forms:n,disabled:o,features:r,additionalFieldProps:a,renderFooter:l,renderHeader:d,location:p,...c}=this.props,m={access:e,disabled:o,features:r,additionalFieldProps:a,renderFooter:l,renderHeader:d,highlighted:this.state.highlighted};return(0,u.BX)("div",{...c,children:[void 0!==n&&n.map(((e,t)=>(0,u.tZ)(i.Fragment,{children:this.renderForm({formPanelProps:m,...e})},t))),void 0===n&&void 0!==t&&this.renderForm({fields:t,formPanelProps:m,title:s})]})}}m.displayName="JsonForm";const g=(0,o.withRouter)(m)},"./app/views/settings/project/permissionAlert.tsx":(e,t,s)=>{s.d(t,{Z:()=>d}),s("../node_modules/react/index.js");var n=s("./app/components/acl/access.tsx"),i=s("./app/components/alert.tsx"),o=s("./app/icons/index.tsx"),r=s("./app/locale.tsx"),a=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const l=({access:e=["project:write"],...t})=>(0,a.tZ)(n.Z,{access:e,children:({hasAccess:e})=>!e&&(0,a.tZ)(i.Z,{type:"warning",icon:(0,a.tZ)(o.FC,{size:"xs"}),...t,children:(0,r.t)("These settings can only be edited by users with the organization owner, manager, or admin role.")})});l.displayName="PermissionAlert";const d=l},"./app/views/settings/projectAlerts/settings.tsx":(e,t,s)=>{s.r(t),s.d(t,{default:()=>v});var n=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=(s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/react/index.js")),o=s("./app/components/alertLink.tsx"),r=s("./app/components/button.tsx"),a=s("./app/components/panels/index.tsx"),l=s("./app/components/pluginList.tsx"),d=s("./app/data/forms/projectAlerts.tsx"),p=s("./app/icons/index.tsx"),c=s("./app/locale.tsx"),u=s("./app/utils/routeTitle.tsx"),m=s("./app/views/asyncView.tsx"),g=s("./app/views/settings/components/forms/form.tsx"),h=s("./app/views/settings/components/forms/jsonForm.tsx"),f=s("./app/views/settings/components/settingsPageHeader.tsx"),x=s("./app/views/settings/project/permissionAlert.tsx"),b=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class j extends m.Z{constructor(...e){super(...e),(0,n.Z)(this,"handleEnablePlugin",(e=>{this.setState((t=>{var s;return{pluginList:(null!==(s=t.pluginList)&&void 0!==s?s:[]).map((t=>t.id!==e.id?t:{...e,enabled:!0}))}}))})),(0,n.Z)(this,"handleDisablePlugin",(e=>{this.setState((t=>{var s;return{pluginList:(null!==(s=t.pluginList)&&void 0!==s?s:[]).map((t=>t.id!==e.id?t:{...e,enabled:!1}))}}))}))}getDefaultState(){return{...super.getDefaultState(),project:null,pluginList:[]}}getProjectEndpoint({orgId:e,projectId:t}){return"/projects/".concat(e,"/").concat(t,"/")}getEndpoints(){const{params:e}=this.props,{orgId:t,projectId:s}=e;return[["project",this.getProjectEndpoint(e)],["pluginList","/projects/".concat(t,"/").concat(s,"/plugins/")]]}getTitle(){const{projectId:e}=this.props.params;return(0,u.Z)((0,c.t)("Alerts Settings"),e,!1)}renderBody(){const{canEditRule:e,organization:t,params:s}=this.props,{orgId:n}=s,{project:u,pluginList:m}=this.state;if(!u)return null;const j=this.getProjectEndpoint(s);return(0,b.BX)(i.Fragment,{children:[(0,b.tZ)(f.Z,{title:(0,c.t)("Alerts Settings"),action:(0,b.tZ)(r.ZP,{to:{pathname:"/organizations/".concat(n,"/alerts/rules/"),query:{project:u.id}},size:"small",children:(0,c.t)("View Alert Rules")})}),(0,b.tZ)(x.Z,{}),(0,b.tZ)(o.Z,{to:"/settings/account/notifications/",icon:(0,b.tZ)(p.h,{}),children:(0,c.t)("Looking to fine-tune your personal notification preferences? Visit your Account Settings")}),(0,b.BX)(g.Z,{saveOnBlur:!0,allowUndo:!0,initialData:{subjectTemplate:u.subjectTemplate,digestsMinDelay:u.digestsMinDelay,digestsMaxDelay:u.digestsMaxDelay},apiMethod:"PUT",apiEndpoint:j,children:[(0,b.tZ)(h.Z,{disabled:!e,title:(0,c.t)("Email Settings"),fields:[d.fields.subjectTemplate]}),(0,b.tZ)(h.Z,{title:(0,c.t)("Digests"),disabled:!e,fields:[d.fields.digestsMinDelay,d.fields.digestsMaxDelay],renderHeader:()=>(0,b.tZ)(a.aU,{type:"info",children:(0,c.t)("Sentry will automatically digest alerts sent by some services to avoid flooding your inbox with individual issue notifications. To control how frequently notifications are delivered, use the sliders below.")})})]}),e&&(0,b.tZ)(l.Z,{organization:t,project:u,pluginList:(null!=m?m:[]).filter((e=>"notification"===e.type&&e.hasConfiguration)),onEnablePlugin:this.handleEnablePlugin,onDisablePlugin:this.handleDisablePlugin})]})}}const v=j}}]);
//# sourceMappingURL=../sourcemaps/app_views_settings_projectAlerts_settings_tsx.63b0b431a9eb6f9a55a208705ae705e7.js.map