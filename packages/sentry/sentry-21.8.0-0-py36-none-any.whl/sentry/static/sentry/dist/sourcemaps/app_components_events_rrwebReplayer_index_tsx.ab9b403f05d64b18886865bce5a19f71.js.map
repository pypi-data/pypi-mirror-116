{"version":3,"file":"chunks/app_components_events_rrwebReplayer_index_tsx.xxxxxxxxxxxxxxxxxxxx.js","mappings":"iuBAWA,MAAMA,UAAsBC,EAAAA,UAAiB,yDAK9BC,EAAAA,EAAAA,eAL8B,iEAS7BC,UAAY,MACxB,MAAMC,EAAO,UAAGC,KAAKC,kBAAR,aAAG,EAAiBC,QAEjC,IAAKH,EACH,OAGF,MAAM,IAACI,GAAOH,KAAKI,MAEnB,IACE,MAAMC,QAAaC,MAAMH,GACnBI,QAAgBF,EAAKG,OAE3BR,KAAKS,eAAiB,IAAIC,EAAAA,EAAY,CACpCC,OAAQZ,EACRa,KAAML,EACNM,UAAU,IAEZ,MAAOC,GACPC,EAAAA,GAAwBD,OA3B5BE,oBACEhB,KAAKU,cA8BPO,SACE,MAAM,UAACC,GAAalB,KAAKI,MAEnBe,GAAU,eAAKC,IAAKpB,KAAKC,WAAYiB,UAAWA,IAEtD,OAAIlB,KAAKS,gBACA,QAAC,KAAD,UAAQU,IAGVA,GAzCLxB,EAAAA,YAAAA,gBA6CN,UC0IA,GA5L4B,OAAOA,EAAP,sBAAH,6bA+BV0B,GAAKA,EAAEC,MAAMC,OAAOC,SA/BV,sDAqCVC,EAAAA,EAAAA,GAAM,GArCI,kBAsCPJ,GAAKA,EAAEC,MAAMI,YAtCN,6nBAsFPL,GAAKA,EAAEC,MAAMK,WAtFN,oYAmHPN,GAAKA,EAAEC,MAAMK,WAnHN,6dAgKPN,GAAKA,EAAEC,MAAMK,WAhKN,gUAmLPN,GAAKA,EAAEC,MAAMK,WAnLN","sources":["webpack:///./app/components/events/rrwebReplayer/rrWebReplayer.tsx","webpack:///./app/components/events/rrwebReplayer/index.tsx"],"sourcesContent":["import {Component, createRef} from 'react';\nimport * as Sentry from '@sentry/react';\nimport rrwebPlayer from 'rrweb-player';\n\nimport {Panel} from 'app/components/panels';\n\ntype Props = {\n  url: string;\n  className?: string;\n};\n\nclass RRWebReplayer extends Component<Props> {\n  componentDidMount() {\n    this.rrwebPlayer();\n  }\n\n  wrapperRef = createRef<HTMLDivElement>();\n\n  newRRWebPlayer: any;\n\n  rrwebPlayer = async () => {\n    const element = this.wrapperRef?.current;\n\n    if (!element) {\n      return;\n    }\n\n    const {url} = this.props;\n\n    try {\n      const resp = await fetch(url);\n      const payload = await resp.json();\n\n      this.newRRWebPlayer = new rrwebPlayer({\n        target: element,\n        data: payload,\n        autoplay: false,\n      });\n    } catch (err) {\n      Sentry.captureException(err);\n    }\n  };\n\n  render() {\n    const {className} = this.props;\n\n    const content = <div ref={this.wrapperRef} className={className} />;\n\n    if (this.newRRWebPlayer) {\n      return <Panel>{content}</Panel>;\n    }\n\n    return content;\n  }\n}\n\nexport default RRWebReplayer;\n","import styled from '@emotion/styled';\n\nimport space from 'app/styles/space';\n\nimport RRWebReplayer from './rrWebReplayer';\n\nconst StyledRRWebReplayer = styled(RRWebReplayer)`\n  .rr-player {\n    width: auto !important;\n  }\n  .rr-player__frame {\n    width: 100% !important;\n  }\n\n  .rr-player iframe {\n    width: 100% !important;\n    height: 100% !important;\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    border: 0;\n  }\n\n  .replayer-wrapper {\n    transform: scale(0.6) translate(0, 0) !important;\n    transform-origin: top left;\n    width: 166.66%;\n    height: 166.66%;\n    overflow: hidden;\n    position: relative;\n    box-shadow: inset 0 -1px 3px rgba(0, 0, 0, 0.08);\n  }\n\n  .replayer-mouse,\n  .replayer-mouse:after {\n    z-index: ${p => p.theme.zIndex.tooltip};\n  }\n\n  .rr-controller {\n    width: 100%;\n    display: block;\n    padding: ${space(2)} 0;\n    background: ${p => p.theme.background};\n    border-radius: 0 0 5px 5px;\n    box-shadow: 0 -1px 3px 0 rgba(0, 0, 0, 0.1);\n    position: relative;\n  }\n\n  .rr-timeline {\n    width: 100%;\n    display: flex;\n    align-items: center;\n  }\n\n  .rr-timeline__time {\n    padding: 0 20px;\n    color: #11103e;\n  }\n\n  .rr-progress {\n    width: 100%;\n    height: 12px;\n    background: #eee;\n    position: relative;\n    border-radius: 3px;\n    cursor: pointer;\n    box-sizing: border-box;\n    border-top: solid 4px #fff;\n    border-bottom: solid 4px #fff;\n  }\n\n  .rr-progress.disabled {\n    cursor: not-allowed;\n  }\n\n  .rr-progress__step {\n    height: 100%;\n    position: absolute;\n    left: 0;\n    top: 0;\n    background: #e0e1fe;\n  }\n\n  .rr-progress__handler {\n    width: 20px;\n    height: 20px;\n    border-radius: 10px;\n    position: absolute;\n    top: 2px;\n    transform: translate(-50%, -50%);\n    background: ${p => p.theme.purple300};\n  }\n\n  .rr-controller__btns {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-size: 13px;\n  }\n\n  .rr-controller__btns button {\n    width: 32px;\n    height: 32px;\n    display: flex;\n    padding: 0;\n    align-items: center;\n    justify-content: center;\n    background: none;\n    border: none;\n    border-radius: 50%;\n    cursor: pointer;\n  }\n\n  .rr-controller__btns button:active {\n    background: #e0e1fe;\n  }\n\n  .rr-controller__btns button.active {\n    color: #fff;\n    background: ${p => p.theme.purple300};\n  }\n\n  .rr-controller__btns button:disabled {\n    cursor: not-allowed;\n  }\n\n  .switch {\n    height: 1em;\n    display: flex;\n    align-items: center;\n  }\n\n  .switch.disabled {\n    opacity: 0.5;\n  }\n\n  .label {\n    margin: 0 8px;\n  }\n\n  .switch input[type='checkbox'] {\n    position: absolute;\n    opacity: 0;\n  }\n\n  .switch label {\n    width: 2em;\n    height: 1em;\n    position: relative;\n    cursor: pointer;\n    display: block;\n  }\n\n  .switch.disabled label {\n    cursor: not-allowed;\n  }\n\n  .switch label:before {\n    content: '';\n    position: absolute;\n    width: 2em;\n    height: 1em;\n    left: 0.1em;\n    transition: background 0.1s ease;\n    background: ${p => p.theme.purple300};\n    border-radius: 50px;\n  }\n\n  .switch label:after {\n    content: '';\n    position: absolute;\n    width: 1em;\n    height: 1em;\n    border-radius: 50px;\n    left: 0;\n    transition: all 0.2s ease;\n    box-shadow: 0px 2px 5px 0px rgba(0, 0, 0, 0.3);\n    background: #fcfff4;\n    animation: switch-off 0.2s ease-out;\n    z-index: 2;\n  }\n\n  .switch input[type='checkbox']:checked + label:before {\n    background: ${p => p.theme.purple300};\n  }\n\n  .switch input[type='checkbox']:checked + label:after {\n    animation: switch-on 0.2s ease-out;\n    left: 1.1em;\n  }\n`;\n\nexport default StyledRRWebReplayer;\n"],"names":["RRWebReplayer","Component","createRef","async","element","this","wrapperRef","current","url","props","resp","fetch","payload","json","newRRWebPlayer","rrwebPlayer","target","data","autoplay","err","Sentry","componentDidMount","render","className","content","ref","p","theme","zIndex","tooltip","space","background","purple300"],"sourceRoot":""}