{"version":3,"file":"chunks/app_components_alertLink_tsx-app_utils_withApi_tsx.xxxxxxxxxxxxxxxxxxxx.js","mappings":"krBAkCA,MAAMA,UAAkBC,EAAAA,UAQtBC,SACE,MAAM,KACJC,EADI,SAEJC,EAFI,KAGJC,EAHI,SAIJC,EAJI,QAKJC,EALI,oBAMJC,EANI,aAOJC,EAPI,GAQJC,EARI,KASJC,EACA,eAAkBC,GAChBC,KAAKC,MAET,OACE,QAACC,EAAD,CACE,eAAcH,EACdF,GAAIA,EACJC,KAAMA,EACNJ,QAASA,EACTJ,KAAMA,EACNC,SAAUA,EACVI,oBAAqBA,EACrBC,aAAcA,EARhB,UAUGJ,IAAQ,QAACW,EAAD,UAAcX,KACvB,QAACY,EAAD,UAAgBX,KAChB,QAACY,EAAD,WACE,QAAC,KAAD,CAAaC,UAAU,gBApC3BnB,EAAAA,YAAAA,a,OAAAA,EAAAA,eACgC,CAClCI,SAAU,UACVD,KAAM,SACNK,qBAAqB,EACrBC,cAAc,IAsClB,UAEMM,GAAa,QAAO,EAAEN,aAAAA,EAAcC,GAAAA,EAAIC,KAAAA,KAASG,MACrD,MAAMM,EAAYC,GAAAA,CAAKP,EAAO,CAAC,sBAAuB,WAAY,SAClE,OAAIH,GACK,QAAC,IAAD,IAAkBS,EAAWT,KAAMA,EAAMF,aAAcA,KAGzD,QAAC,IAAD,IAAUW,EAAWV,GAAIA,GAAM,OANrB,qBAAH,kCASMY,GAAKA,EAAEC,MAAMC,MAAMF,EAAElB,UAAUqB,iBATrC,WAULH,GAAKA,EAAEC,MAAMG,WAVR,uBAWOJ,GAAKA,EAAEC,MAAMC,MAAMF,EAAElB,UAAUuB,QAXtC,aAYHL,GAAiB,UAAXA,EAAEnB,KAAF,WAAwByB,EAAAA,EAAAA,GAAM,GAA9B,aAAoCA,EAAAA,EAAAA,GAAM,OAASA,EAAAA,EAAAA,GAAM,IAZ5D,mBAaGN,GAAMA,EAAEd,oBAAsB,GAAIoB,EAAAA,EAAAA,GAAM,IAb3C,+FAmBEN,GAAKA,EAAEC,MAAMC,MAAMF,EAAElB,UAAUuB,QAnBjC,kBAuBVX,GAAc,OAAO,OAAP,qBAAH,wBAELY,EAAAA,EAAAA,GAAM,IAFD,KAESA,EAAAA,EAAAA,GAAM,KAFf,KAEuBA,EAAAA,EAAAA,GAAM,IAF7B,OAKXV,GAAW,OAAOF,EAAP,qBAAH,WACFY,EAAAA,EAAAA,GAAM,IADJ,OAIRX,GAAgB,OAAO,MAAP,qBAAH,wD,8TCpFnB,MA0BA,EA1BgB,CACdY,GACCC,gBAAAA,GAAgC,MAFnB,mBAId,cAAc7B,EAAAA,UAGZ8B,YAAYjB,GACVkB,MAAMlB,IAD4B,0BAElCD,KAAKoB,IAAM,IAAIC,EAAAA,GAGjBC,uBACOL,GACHjB,KAAKoB,IAAIG,QAMblC,SACE,MAAM,IAAC+B,KAAQnB,GAASD,KAAKC,MAC7B,OAAO,QAACe,EAAD,CAAwBI,IAAKA,MAAAA,EAAAA,EAAOpB,KAAKoB,OAAQnB,OAtB9C,0CAKoBuB,EAAAA,EAAAA,GAAeR,GALnC","sources":["webpack:///./app/components/alertLink.tsx","webpack:///./app/utils/withApi.tsx"],"sourcesContent":["import * as React from 'react';\nimport styled from '@emotion/styled';\nimport omit from 'lodash/omit';\n\nimport ExternalLink from 'app/components/links/externalLink';\nimport Link from 'app/components/links/link';\nimport {IconChevron} from 'app/icons';\nimport space from 'app/styles/space';\n\ntype Size = 'small' | 'normal';\ntype Priority = 'info' | 'warning' | 'success' | 'error' | 'muted';\n\ntype LinkProps = React.ComponentPropsWithoutRef<typeof Link>;\n\ntype OtherProps = {\n  ['data-test-id']?: string;\n  icon?: string | React.ReactNode;\n  onClick?: (e: React.MouseEvent) => void;\n};\n\ntype DefaultProps = {\n  size: Size;\n  priority: Priority;\n  withoutMarginBottom: boolean;\n  openInNewTab: boolean;\n  href?: string;\n};\n\ntype Props = OtherProps & DefaultProps & Partial<Pick<LinkProps, 'to'>>;\n\ntype StyledLinkProps = DefaultProps &\n  Partial<Pick<LinkProps, 'to'>> &\n  Omit<LinkProps, 'to' | 'size'>;\n\nclass AlertLink extends React.Component<Props> {\n  static defaultProps: DefaultProps = {\n    priority: 'warning',\n    size: 'normal',\n    withoutMarginBottom: false,\n    openInNewTab: false,\n  };\n\n  render() {\n    const {\n      size,\n      priority,\n      icon,\n      children,\n      onClick,\n      withoutMarginBottom,\n      openInNewTab,\n      to,\n      href,\n      ['data-test-id']: dataTestId,\n    } = this.props;\n\n    return (\n      <StyledLink\n        data-test-id={dataTestId}\n        to={to}\n        href={href}\n        onClick={onClick}\n        size={size}\n        priority={priority}\n        withoutMarginBottom={withoutMarginBottom}\n        openInNewTab={openInNewTab}\n      >\n        {icon && <IconWrapper>{icon}</IconWrapper>}\n        <AlertLinkText>{children}</AlertLinkText>\n        <IconLink>\n          <IconChevron direction=\"right\" />\n        </IconLink>\n      </StyledLink>\n    );\n  }\n}\n\nexport default AlertLink;\n\nconst StyledLink = styled(({openInNewTab, to, href, ...props}: StyledLinkProps) => {\n  const linkProps = omit(props, ['withoutMarginBottom', 'priority', 'size']);\n  if (href) {\n    return <ExternalLink {...linkProps} href={href} openInNewTab={openInNewTab} />;\n  }\n\n  return <Link {...linkProps} to={to || ''} />;\n})`\n  display: flex;\n  background-color: ${p => p.theme.alert[p.priority].backgroundLight};\n  color: ${p => p.theme.textColor};\n  border: 1px dashed ${p => p.theme.alert[p.priority].border};\n  padding: ${p => (p.size === 'small' ? `${space(1)} ${space(1.5)}` : space(2))};\n  margin-bottom: ${p => (p.withoutMarginBottom ? 0 : space(3))};\n  border-radius: 0.25em;\n  transition: 0.2s border-color;\n\n  &.focus-visible {\n    outline: none;\n    box-shadow: ${p => p.theme.alert[p.priority].border}7f 0 0 0 2px;\n  }\n`;\n\nconst IconWrapper = styled('span')`\n  display: flex;\n  margin: ${space(0.5)} ${space(1.5)} ${space(0.5)} 0;\n`;\n\nconst IconLink = styled(IconWrapper)`\n  margin: ${space(0.5)} 0;\n`;\n\nconst AlertLinkText = styled('div')`\n  line-height: 1.5;\n  flex-grow: 1;\n`;\n","import * as React from 'react';\n\nimport {Client} from 'app/api';\nimport getDisplayName from 'app/utils/getDisplayName';\n\ntype InjectedApiProps = {\n  api: Client;\n};\n\ntype WrappedProps<P> = Omit<P, keyof InjectedApiProps> & Partial<InjectedApiProps>;\n\ntype OptionProps = {\n  /**\n   * Enabling this option will disable clearing in-flight requests when the\n   * component is unmounted.\n   *\n   * This may be useful in situations where your component needs to finish up\n   * some where the client was passed into some type of action creator and the\n   * component is unmounted.\n   */\n  persistInFlight?: boolean;\n};\n\n/**\n * React Higher-Order Component (HoC) that provides \"api\" client when mounted,\n * and clears API requests when component is unmounted.\n */\nconst withApi = <P extends InjectedApiProps>(\n  WrappedComponent: React.ComponentType<P>,\n  {persistInFlight}: OptionProps = {}\n) =>\n  class extends React.Component<WrappedProps<P>> {\n    static displayName = `withApi(${getDisplayName(WrappedComponent)})`;\n\n    constructor(props: WrappedProps<P>) {\n      super(props);\n      this.api = new Client();\n    }\n\n    componentWillUnmount() {\n      if (!persistInFlight) {\n        this.api.clear();\n      }\n    }\n\n    private api: Client;\n\n    render() {\n      const {api, ...props} = this.props;\n      return <WrappedComponent {...({api: api ?? this.api, ...props} as P)} />;\n    }\n  };\n\nexport default withApi;\n"],"names":["AlertLink","React","render","size","priority","icon","children","onClick","withoutMarginBottom","openInNewTab","to","href","dataTestId","this","props","StyledLink","IconWrapper","AlertLinkText","IconLink","direction","linkProps","omit","p","theme","alert","backgroundLight","textColor","border","space","WrappedComponent","persistInFlight","constructor","super","api","Client","componentWillUnmount","clear","getDisplayName"],"sourceRoot":""}