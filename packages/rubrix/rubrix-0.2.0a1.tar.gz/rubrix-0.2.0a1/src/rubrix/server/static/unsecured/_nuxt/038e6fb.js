(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{500:function(t,e,n){var content=n(619);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(101).default)("43f0dc4c",content,!0,{sourceMap:!1})},618:function(t,e,n){"use strict";n(500)},619:function(t,e,n){var r=n(100)(!1);r.push([t.i,".record[data-v-12098756]{display:flex}.record--left[data-v-12098756]{width:100%;padding:2em 2em .5em}.list__item--annotation-mode .record--left[data-v-12098756]{padding-left:4em}.record__labels[data-v-12098756]{position:relative;border-left:1px solid #f5f5f6;margin-left:2em;width:170px;flex-shrink:0}",""]),t.exports=r},712:function(t,e,n){"use strict";n.r(e);n(28),n(31),n(44),n(45);var r=n(4),o=n(13),c=(n(59),n(26),n(37),n(51),n(32),n(70),n(50)),d=n(84);function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function f(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var h={props:{dataset:{type:c.a,required:!0},record:{type:c.b,required:!0}},data:function(){return{}},computed:{labelsForAnnotation:function(){var t={};this.dataset.labels.forEach((function(label){t[label]={confidence:0,selected:!1}}));var e=this.annotationLabels.map((function(label){return f(f({},label),{},{selected:!0})}));return this.predictionLabels.concat(e).forEach((function(label){t[label.class]={confidence:label.confidence,selected:label.selected}})),Object.keys(t).map((function(label){return{class:label,confidence:t[label].confidence,selected:t[label].selected}}))},annotationEnabled:function(){return this.dataset.viewSettings.annotationEnabled},annotationLabels:function(){return this.record.annotation?this.record.annotation.labels:[]},predictionLabels:function(){return this.record.prediction?this.record.prediction.labels:[]}},methods:f(f({},Object(d.b)({editAnnotations:"entities/datasets/editAnnotations",discard:"entities/datasets/discardAnnotations",validate:"entities/datasets/validateAnnotations"})),{},{onChangeRecordStatus:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:n.t0=t,n.next="Validated"===n.t0?3:"Discarded"===n.t0?6:"Edited"===n.t0?9:12;break;case 3:return n.next=5,e.validate({dataset:e.dataset,records:[e.record]});case 5:return n.abrupt("break",13);case 6:return n.next=8,e.discard({dataset:e.dataset,records:[e.record]});case 8:return n.abrupt("break",13);case 9:return n.next=11,e.editAnnotations({dataset:e.dataset,records:[f(f({},e.record),{},{status:"Edited",annotation:{agent:e.$auth.user,labels:[]}})]});case 11:return n.abrupt("break",13);case 12:console.warn("waT?",t);case 13:case"end":return n.stop()}}),n)})))()},onAnnotate:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.labels,n.next=3,e.validate({dataset:e.dataset,records:[f(f({},e.record),{},{status:["Discarded","Validated"].includes(e.record.status)?"Edited":e.record.status,annotation:{agent:e.$auth.user,labels:r.map((function(label){return{class:label,confidence:1}}))}})]});case 3:case"end":return n.stop()}}),n)})))()}})},v=(n(618),n(43)),component=Object(v.a)(h,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"record"},[n("div",{staticClass:"record--left"},[n("RecordInputs",{attrs:{predicted:t.record.predicted,data:t.record.inputs,explanation:t.record.explanation,"query-text":t.dataset.query.text}}),t._v(" "),t.annotationEnabled?n("ClassifierAnnotationArea",{attrs:{labels:t.labelsForAnnotation,"multi-label":t.record.multi_label},on:{annotate:t.onAnnotate,updateStatus:t.onChangeRecordStatus}}):n("ClassifierExplorationArea",{attrs:{labels:t.predictionLabels}}),t._v(" "),n("RecordExtraActions",{attrs:{"allow-change-status":t.annotationEnabled,record:t.record},on:{onChangeRecordStatus:t.onChangeRecordStatus,onShowMetadata:function(e){return t.$emit("onShowMetadata")}}})],1),t._v(" "),t.annotationEnabled?t._e():n("div",{staticClass:"record__labels"},[t.record.annotation&&!t.annotationEnabled?n("LabelPill",{staticClass:"annotations",attrs:{labels:t.record.annotation.labels,predicted:t.record.predicted}}):t._e()],1)])}),[],!1,null,"12098756",null);e.default=component.exports;installComponents(component,{RecordInputs:function(){return n.e(42).then(n.bind(null,710)).then((function(t){return t.default||t}))},ClassifierAnnotationArea:function(){return n.e(2).then(n.bind(null,703)).then((function(t){return t.default||t}))},ClassifierExplorationArea:function(){return n.e(4).then(n.bind(null,705)).then((function(t){return t.default||t}))},RecordExtraActions:function(){return n.e(41).then(n.bind(null,686)).then((function(t){return t.default||t}))},LabelPill:function(){return n.e(19).then(n.bind(null,708)).then((function(t){return t.default||t}))}})}}]);