(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{452:function(e,t,n){n(158).register({refresh:{width:15,height:15,viewBox:"0 0 15 15",data:'<path pid="0" d="M6.858 13.097c-2.95-.4-5.009-3.119-4.61-6.069a5.374 5.374 0 016.07-4.594 5.348 5.348 0 012.658 1.153l-2.12 1.828 5.822 1.414-.276-6.146-1.967 1.674A7.184 7.184 0 008.58.575C4.615.022.943 2.803.389 6.767c-.553 3.964 2.228 7.652 6.208 8.19 2.75.383 5.347-.83 6.883-2.935l-1.49-1.153a5.346 5.346 0 01-5.132 2.228z" _fill="#4A4A4A" fill-rule="nonzero"/>'}})},467:function(e,t,n){var content=n(537);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(101).default)("1754333c",content,!0,{sourceMap:!1})},534:function(e,t,n){n(158).register({export:{width:15,height:14,viewBox:"0 0 15 14",data:'<path pid="0" d="M7.928.22l3.63 3.553c.585.567-.294 1.418-.88.85l-2.445-2.37c-.12-.117-.218-.077-.218.09v6.542a.612.612 0 01-.622.603.61.61 0 01-.62-.603V2.342c0-.165-.098-.206-.219-.09L4.108 4.624c-.586.567-1.464-.284-.878-.85L6.835.223A.782.782 0 017.928.22zm5.067 12.277V10.39c0-.332.279-.601.623-.601.343 0 .622.27.622.601V13.1c0 .5-.42.901-.936.901H1.483c-.515 0-.936-.405-.936-.901V10.39c0-.332.278-.601.622-.601s.623.27.623.601v2.107c0 .163.139.3.31.3h10.582c.17 0 .311-.135.311-.3z" _fill="#2BABA6" fill-rule="nonzero"/>'}})},535:function(e,t,n){n(158).register({plus:{width:11,height:11,viewBox:"0 0 11 11",data:'<path pid="0" d="M6.635 6.558l.145 4.167-2.193.077-.145-4.167-4.167.145-.077-2.193 4.167-.145L4.22.275 6.413.198l.145 4.167 4.167-.145.077 2.193z" _fill="#4C4EA3" fill-rule="evenodd"/>'}})},536:function(e,t,n){"use strict";n(467)},537:function(e,t,n){var o=n(100)(!1);o.push([e.i,".container[data-v-62ca6eb2]{margin:0 auto;padding:4em;padding-top:0;padding-bottom:0}.new-label[data-v-62ca6eb2]{width:180px;border-radius:3px;border:2px solid #0508d9;padding:1em;position:absolute;top:-1em;background:#fff;text-align:left}.new-label__close[data-v-62ca6eb2]{position:absolute;top:1.2em;right:1em;cursor:pointer;height:12px;width:12px;stroke:#4c4ea3;stroke-width:1}.new-label__input[data-v-62ca6eb2]{border:0;outline:none;padding-right:2em;width:100%}.new-label__button[data-v-62ca6eb2]{margin-top:2em;margin-bottom:0!important}.new-label__main-button[data-v-62ca6eb2]{margin-bottom:0!important;margin-right:0;margin-left:auto}.new-label__container[data-v-62ca6eb2]{text-align:right;position:relative;margin-right:0;margin-left:auto;width:180px}.global-actions[data-v-62ca6eb2]{display:flex;align-items:center;width:100%;text-align:left;padding:1em 1.4em;background:#fff;border-radius:3px}.global-actions[data-v-62ca6eb2],.global-actions--exploration[data-v-62ca6eb2]{position:relative}.fixed-header .global-actions[data-v-62ca6eb2]{margin-top:0;padding-top:0;padding-bottom:0;background:#f2f3f7;border:none;min-height:70px}@media (min-width:1451px){.global-actions[data-v-62ca6eb2]{width:calc(100% - 294px)}}.global-actions .re-checkbox[data-v-62ca6eb2]{position:relative;left:0;top:0;margin:0 8px 0 0}.global-actions__export[data-v-62ca6eb2]{margin:auto 0 auto auto}.global-actions__select[data-v-62ca6eb2]{margin-left:.8em}.global-actions__select[data-v-62ca6eb2]  .dropdown__header{border-radius:5px;max-height:33px;background:#fff;border-width:1px;color:#4c4ea3;font-weight:700}.global-actions__button[data-v-62ca6eb2]{border-radius:5px;height:33px;min-width:80px;margin-left:1em;margin-right:1em;outline:none;font-weight:600;color:#4c4ea3;background:#fff;border:1px solid #e9eaed;cursor:pointer}.global-actions__button[data-v-62ca6eb2]:focus,.global-actions__button[data-v-62ca6eb2]:hover{border-color:#0508d9}.global-actions__button[data-v-62ca6eb2]:first-of-type{margin-right:0}.global-actions__text[data-v-62ca6eb2]{color:#4a4a4a;font-weight:400}.global-actions--disabled .global-actions__button[data-v-62ca6eb2],.global-actions--disabled .global-actions__select[data-v-62ca6eb2]{pointer-events:none;opacity:.5}.global-actions__text[data-v-62ca6eb2]{margin:0}.global-actions__text span[data-v-62ca6eb2]{font-weight:700;color:#0508d9}",""]),e.exports=o},681:function(e,t,n){"use strict";n.r(t);n(32),n(28),n(44),n(26),n(45);var o=n(4),r=n(13),l=n(83),c=(n(59),n(31),n(37),n(67),n(33),n(15),n(162),n(163),n(164),n(165),n(166),n(167),n(168),n(169),n(170),n(171),n(172),n(173),n(174),n(175),n(176),n(177),n(178),n(38),n(51),n(180),n(84));n(534),n(535),n(452);function d(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function f(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var h={props:{dataset:{type:Object,required:!0}},data:function(){return{allSelected:!1,openExportModal:!1,newLabel:void 0,newLabelVisible:!1}},computed:{selectedRecords:function(){return this.visibleRecords.filter((function(e){return e.selected}))},isTokenClassification:function(){return"TokenClassification"===this.dataset.task},isTextClassification:function(){return"TextClassification"===this.dataset.task},isMultiLabelRecord:function(){return this.selectedRecords.some((function(e){return e.multi_label}))},options:function(){var e=this.dataset.results.records[0],t=e&&e.prediction?e.prediction.labels.map((function(label){return label.class})):[];return t=Array.from(new Set([].concat(Object(l.a)(t),Object(l.a)(this.dataset.labels)))),this.isTextClassification?t:[]},visibleRecords:function(){return this.dataset.visibleRecords},_allSelected:function(){return this.allSelected},annotationEnabled:function(){return this.dataset.viewSettings.annotationEnabled}},watch:{visibleRecords:function(e){e.every((function(e){return e.selected}))||(this.allSelected=!1)},allSelected:function(e){var t=this;(e||this.visibleRecords.every((function(e){return e.selected})))&&this.updateRecords({dataset:this.dataset,records:this.visibleRecords.map((function(e){return f(f({},e),{},{selected:t.allSelected})}))})}},methods:f(f({},Object(c.b)({updateRecords:"entities/datasets/updateRecords",discard:"entities/datasets/discardAnnotations",validate:"entities/datasets/validateAnnotations"})),{},{onSelectAnnotation:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=t.selectedRecords.map((function(n){var o=n.annotation?Object(l.a)(n.annotation.labels):[],r=e.filter((function(e){return-1===o.map((function(label){return label.class})).indexOf(e)})),c=t.isMultiLabelRecord?r:e;return c=c.map((function(label){return{class:label,confidence:1}})),f(f({},n),{},{annotation:{agent:t.$auth.user,labels:t.isMultiLabelRecord?[].concat(Object(l.a)(o),Object(l.a)(c)):c}})})),n.next=3,t.validate({dataset:t.dataset,records:o});case 3:case"end":return n.stop()}}),n)})))()},closeNewLabelVisible:function(){this.newLabel=void 0,this.newLabelVisible=!1},onDiscard:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.discard({dataset:e.dataset,records:e.selectedRecords});case 2:case"end":return t.stop()}}),t)})))()},onValidate:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.validate({dataset:e.dataset,records:e.selectedRecords});case 2:case"end":return t.stop()}}),t)})))()},addNewLabel:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e&&e.trim()){n.next=2;break}return n.abrupt("return");case 2:t.isTextClassification?t.dataset.$dispatch("setLabels",{dataset:t.dataset,labels:Object(l.a)(new Set([].concat(Object(l.a)(t.dataset.labels),[e])))}):t.isTokenClassification&&t.dataset.$dispatch("setEntities",{dataset:t.dataset,entities:Object(l.a)(new Set([].concat(Object(l.a)(t.dataset.entities.map((function(e){return e.text}))),[e])))}),t.closeNewLabelVisible();case 4:case"end":return n.stop()}}),n)})))()}})},v=(n(536),n(43)),component=Object(v.a)(h,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["container",e.selectedRecords.length?"":"global-actions--disabled"]},[e.annotationEnabled?n("div",{staticClass:"global-actions"},[n("ReCheckbox",{staticClass:"list__item__checkbox",model:{value:e.allSelected,callback:function(t){e.allSelected=t},expression:"allSelected"}}),e._v(" "),e.isTextClassification?n("FeedbackDropdownAll",{staticClass:"global-actions__select",attrs:{"multi-label":e.isMultiLabelRecord,options:e.options},on:{selected:function(t){return e.onSelectAnnotation(t)}}}):e._e(),e._v(" "),n("ReButton",{staticClass:"global-actions__button",on:{click:e.onValidate}},[e._v("Validate")]),e._v(" "),n("ReButton",{staticClass:"global-actions__button",on:{click:e.onDiscard}},[e._v("Discard")]),e._v(" "),e.selectedRecords.length?n("p",{staticClass:"global-actions__text"},[e._v("\n      Actions will apply to the\n      "),n("span",[e._v(e._s(e.selectedRecords.length)+" records")]),e._v(" selected\n    ")]):e._e(),e._v(" "),n("div",{staticClass:"new-label__container"},[e.newLabelVisible?n("div",{staticClass:"new-label"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newLabel,expression:"newLabel"}],staticClass:"new-label__input",attrs:{autofocus:"",type:"text",placeholder:"New label"},domProps:{value:e.newLabel},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addNewLabel(e.newLabel)},input:function(t){t.target.composing||(e.newLabel=t.target.value)}}}),e._v(" "),n("svgicon",{staticClass:"new-label__close",attrs:{name:"cross"},on:{click:function(t){return e.closeNewLabelVisible()}}}),e._v(" "),n("reButton",{staticClass:"new-label__button button-primary--small",attrs:{disabled:!e.newLabel},on:{click:function(t){return e.addNewLabel(e.newLabel)}}},[e._v("Create")])],1):n("reButton",{staticClass:"new-label__main-button button-secondary--outline",on:{click:function(t){e.newLabelVisible=!0}}},[n("svgicon",{attrs:{name:"plus",width:"10",height:"10"}}),e._v("Create new\n        label")],1)],1)],1):e._e()])}),[],!1,null,"62ca6eb2",null);t.default=component.exports;installComponents(component,{ReCheckbox:function(){return n.e(25).then(n.bind(null,692)).then((function(e){return e.default||e}))},FeedbackDropdownAll:function(){return n.e(9).then(n.bind(null,707)).then((function(e){return e.default||e}))},ReButton:function(){return n.e(24).then(n.bind(null,691)).then((function(e){return e.default||e}))}})}}]);